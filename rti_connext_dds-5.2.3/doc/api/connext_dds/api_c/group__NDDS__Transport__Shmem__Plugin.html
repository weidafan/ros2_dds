<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Connext C API: Shared Memory Transport</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Connext C API
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__NDDS__Transport__Shmem__Plugin.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Shared Memory Transport</div>  </div>
<div class="ingroups"><a class="el" href="group__NDDS__TransportBuiltinsComponent.html">Built-in Transport Plugins</a></div></div><!--header-->
<div class="contents">

<p>Built-in transport plug-in for inter-process communications using shared memory (<a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga919ce9101d78fe359c03f813be2c6369">NDDS_TRANSPORT_CLASSID_SHMEM</a>)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNDDS__Transport__Shmem__Property__t.html">NDDS_Transport_Shmem_Property_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of <a class="el" href="structNDDS__Transport__Property__t.html" title="Base structure that must be inherited by derived Transport Plugin classes.">NDDS_Transport_Property_t</a> allowing specification of parameters that are specific to the shared-memory transport.  <a href="structNDDS__Transport__Shmem__Property__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga919ce9101d78fe359c03f813be2c6369"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga919ce9101d78fe359c03f813be2c6369">NDDS_TRANSPORT_CLASSID_SHMEM</a>&#160;&#160;&#160;(0x01000000)</td></tr>
<tr class="memdesc:ga919ce9101d78fe359c03f813be2c6369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builtin Shared-Memory Transport-Plugin class ID.  <a href="#ga919ce9101d78fe359c03f813be2c6369"></a><br/></td></tr>
<tr class="separator:ga919ce9101d78fe359c03f813be2c6369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e9cb36926742a006823c87911bc9bbe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga5e9cb36926742a006823c87911bc9bbe">NDDS_TRANSPORT_CLASSID_SHMEM_510</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="memdesc:ga5e9cb36926742a006823c87911bc9bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builtin Shared-Memory Transport-Plugin class ID for Connext 5.1.0 and earlier.  <a href="#ga5e9cb36926742a006823c87911bc9bbe"></a><br/></td></tr>
<tr class="separator:ga5e9cb36926742a006823c87911bc9bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35cfedd492afcf0252b31c8b98151278"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga35cfedd492afcf0252b31c8b98151278">NDDS_TRANSPORT_SHMEM_ADDRESS_BIT_COUNT</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="memdesc:ga35cfedd492afcf0252b31c8b98151278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a5a2ee05f550b32ac32a3c9b520216202" title="Number of bits in a 16-byte address that are used by the transport. Should be between 0 and 128...">NDDS_Transport_Property_t::address_bit_count</a>.  <a href="#ga35cfedd492afcf0252b31c8b98151278"></a><br/></td></tr>
<tr class="separator:ga35cfedd492afcf0252b31c8b98151278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae18a8a8166ece7b6e6370051acdcd987"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#gae18a8a8166ece7b6e6370051acdcd987">NDDS_TRANSPORT_SHMEM_PROPERTIES_BITMAP_DEFAULT</a>&#160;&#160;&#160;( <a class="el" href="group__NDDS__Transport__Property__t.html#ga099cc5d8911cbf822b2885df441a7d1f">NDDS_TRANSPORT_PROPERTY_BIT_BUFFER_ALWAYS_LOANED</a> )</td></tr>
<tr class="memdesc:gae18a8a8166ece7b6e6370051acdcd987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a9aa8b4998b2dde4cc303b44a0c458b77" title="A bitmap that defines various properties of the transport to the RTI Connext core.">NDDS_Transport_Property_t::properties_bitmap</a>.  <a href="#gae18a8a8166ece7b6e6370051acdcd987"></a><br/></td></tr>
<tr class="separator:gae18a8a8166ece7b6e6370051acdcd987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf251fea27c4351dfb13f46c19a23f922"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#gaf251fea27c4351dfb13f46c19a23f922">NDDS_TRANSPORT_SHMEM_GATHER_SEND_BUFFER_COUNT_MAX_DEFAULT</a>&#160;&#160;&#160;(1024)</td></tr>
<tr class="memdesc:gaf251fea27c4351dfb13f46c19a23f922"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a3e830e6ff13c82dc46ef39e7d6169be2" title="Specifies the maximum number of buffers that RTI Connext can pass to the send() function of a transpo...">NDDS_Transport_Property_t::gather_send_buffer_count_max</a>.  <a href="#gaf251fea27c4351dfb13f46c19a23f922"></a><br/></td></tr>
<tr class="separator:gaf251fea27c4351dfb13f46c19a23f922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4b9589b7eb1e891a925af3f59eee51d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#gaf4b9589b7eb1e891a925af3f59eee51d">NDDS_TRANSPORT_SHMEM_MESSAGE_SIZE_MAX_DEFAULT</a>&#160;&#160;&#160;(65536)</td></tr>
<tr class="memdesc:gaf4b9589b7eb1e891a925af3f59eee51d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a4ab89765aee4395142e2dabc7849a46a" title="The maximum size of an RTPS message in bytes that can be sent or received by the transport plugin...">NDDS_Transport_Property_t::message_size_max</a>.  <a href="#gaf4b9589b7eb1e891a925af3f59eee51d"></a><br/></td></tr>
<tr class="separator:gaf4b9589b7eb1e891a925af3f59eee51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5d6855abc3bcacebe67b0c221830d59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#gac5d6855abc3bcacebe67b0c221830d59">NDDS_TRANSPORT_SHMEM_RECEIVED_MESSAGE_COUNT_MAX_DEFAULT</a>&#160;&#160;&#160;(64)</td></tr>
<tr class="memdesc:gac5d6855abc3bcacebe67b0c221830d59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a240f1296a35c1edb35b40e6902cffbc6" title="Number of messages that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::received_message_count_max</a>.  <a href="#gac5d6855abc3bcacebe67b0c221830d59"></a><br/></td></tr>
<tr class="separator:gac5d6855abc3bcacebe67b0c221830d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1826abf2f3c8fe2b16ebda60bdea22c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#gaf1826abf2f3c8fe2b16ebda60bdea22c">NDDS_TRANSPORT_SHMEM_RECEIVE_BUFFER_SIZE_DEFAULT</a></td></tr>
<tr class="memdesc:gaf1826abf2f3c8fe2b16ebda60bdea22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value of <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a5e4bdc80e1538c2ea1315504435f22b7" title="The total number of bytes that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::receive_buffer_size</a>.  <a href="#gaf1826abf2f3c8fe2b16ebda60bdea22c"></a><br/></td></tr>
<tr class="separator:gaf1826abf2f3c8fe2b16ebda60bdea22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65efdcaf595c921c233ac1b4febec582"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga65efdcaf595c921c233ac1b4febec582">NDDS_TRANSPORT_SHMEM_PROPERTY_DEFAULT</a></td></tr>
<tr class="memdesc:ga65efdcaf595c921c233ac1b4febec582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this to initialize stack variable.  <a href="#ga65efdcaf595c921c233ac1b4febec582"></a><br/></td></tr>
<tr class="separator:ga65efdcaf595c921c233ac1b4febec582"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga56bbb55e11d7fa68003cf3a5d9cc0c43"><td class="memItemLeft" align="right" valign="top">NDDS_Transport_Plugin *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga56bbb55e11d7fa68003cf3a5d9cc0c43">NDDS_Transport_Shmem_new</a> (const struct <a class="el" href="structNDDS__Transport__Shmem__Property__t.html">NDDS_Transport_Shmem_Property_t</a> *property_in)</td></tr>
<tr class="memdesc:ga56bbb55e11d7fa68003cf3a5d9cc0c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new shmem process transport.  <a href="#ga56bbb55e11d7fa68003cf3a5d9cc0c43"></a><br/></td></tr>
<tr class="separator:ga56bbb55e11d7fa68003cf3a5d9cc0c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga648b5f684c9fd09d9462935a8a0431f9"><td class="memItemLeft" align="right" valign="top">NDDS_Transport_Plugin *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga648b5f684c9fd09d9462935a8a0431f9">NDDS_Transport_Shmem_create</a> (<a class="el" href="structNDDS__Transport__Address__t.html">NDDS_Transport_Address_t</a> *default_network_address_out, const struct <a class="el" href="structDDS__PropertyQosPolicy.html">DDS_PropertyQosPolicy</a> *property_in)</td></tr>
<tr class="memdesc:ga648b5f684c9fd09d9462935a8a0431f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new shmem process transport, using PropertyQosPolicy.  <a href="#ga648b5f684c9fd09d9462935a8a0431f9"></a><br/></td></tr>
<tr class="separator:ga648b5f684c9fd09d9462935a8a0431f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Built-in transport plug-in for inter-process communications using shared memory (<a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga919ce9101d78fe359c03f813be2c6369">NDDS_TRANSPORT_CLASSID_SHMEM</a>) </p>
<p>This plugin uses System Shared Memory to send messages between processes on the same node. </p>
<p>The transport plugin has exactly one "receive interface"; since the <code>address_bit_count</code> is 0, it can be assigned any address. Thus the interface is located by the "network address" associated with the transport plugin. </p>
<h1><a class="anchor" id="ShmemTransport_compatibility"></a>
Compatibility of Sender and Receiver Transports</h1>
<p>Opening a receiver "port" on shared memory corresponds to creating a shared memory segment using a name based on the port number. The transport plugin's properties are embedded in the shared memory segment. </p>
<p>When a sender tries to send to the shared memory port, it verifies that properties of the receiver's shared memory transport are compatible with those specified in its transport plugin. If not, the sender will fail to attach to the port and will output messages such as below (with numbers appropriate to the properties of the transport plugins involved). </p>
<pre class="fragment">  NDDS_Transport_Shmem_attachShmem:failed to initialize incompatible properties
  NDDS_Transport_Shmem_attachShmem:countMax 0 &gt; -19417345 or max size -19416188 &gt; 2147482624              </pre><p> In this scenario, the properties of the sender or receiver transport plugin instances should be adjusted, so that they are compatible. </p>
<h1><a class="anchor" id="ShmemTransport_crash"></a>
Crashing and Restarting Programs</h1>
<p>If a process using shared memory crashes (say because the user typed in ^C), resources associated with its shared memory ports may not be properly cleaned up. Later, if another RTI Connext process needs to open the same ports (say, the crashed program is restarted), it will attempt to reuse the shared memory segment left behind by the crashed process. </p>
<p>The reuse is allowed iff the properties of transport plugin are compatible with those embedded in the shared memory segment (i.e., of the original creator). Otherwise, the process will fail to open the ports, and will output messages such as below (with numbers appropriate to the properties of the transport plugins involved). </p>
<pre class="fragment">  NDDS_Transport_Shmem_create_recvresource_rrEA:failed to initialize shared 
        memory resource Cannot recycle existing shmem: size not compatible for key 0x1234                 </pre><p> In this scenario, the shared memory segments must be cleaned up using appropriate platform specific commands. For details, please refer to the <a href="../../../manuals/connext_dds/RTI_ConnextDDS_CoreLibraries_PlatformNotes.pdf" target="_blank">Platform Notes</a>. </p>
<h1><a class="anchor" id="ShmemTransport_keys"></a>
Shared Resource Keys</h1>
<p>The transport uses the <b>shared</b> <b>memory</b> <b>segment</b> <b>keys</b>, given by the formula below. </p>
<div class="fragment"><div class="line">0x400000 + port                 </div>
</div><!-- fragment --><p> The transport also uses signaling <b>shared</b> <b>semaphore</b> <b>keys</b> given by the formula below. </p>
<div class="fragment"><div class="line">0x800000 + port                 </div>
</div><!-- fragment --><p> The transport also uses mutex <b>shared</b> <b>semaphore</b> <b>keys</b> given by the formula below. </p>
<div class="fragment"><div class="line">0xb00000 + port                 </div>
</div><!-- fragment --><p> wher the <code>port</code> is a function of the <code>domain_id</code> and the <code>participant_id</code>, as described in <a class="el" href="structDDS__WireProtocolQosPolicy.html#af8282d78bd332c9b82d0112fab8c63d7" title="A value used to distinguish among different participants belonging to the same domain on the same hos...">DDS_WireProtocolQosPolicy::participant_id</a> </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structDDS__WireProtocolQosPolicy.html#af8282d78bd332c9b82d0112fab8c63d7" title="A value used to distinguish among different participants belonging to the same domain on the same hos...">DDS_WireProtocolQosPolicy::participant_id</a> </dd>
<dd>
<a class="el" href="group__NDDSTransportUserModule.html#ga7222b3167a2992001dacdc63bf2624ef" title="Set the properties used to create a builtin transport plugin.">NDDS_Transport_Support_set_builtin_transport_property()</a> </dd></dl>
<h1><a class="anchor" id="ShmemTransport_register"></a>
Creating and Registering Shared Memory Transport Plugin</h1>
<p>RTI Connext can implicitly create this plugin and register with the <a class="el" href="group__DDSDomainParticipantModule.html#ga1964274885335d5bcea6855f66b0bfe1" title="&lt;&lt;interface&gt;&gt; Container for all DDS_DomainEntity objects.">DDS_DomainParticipant</a> if this transport is specified in <a class="el" href="structDDS__TransportBuiltinQosPolicy.html" title="Specifies which built-in transports are used.">DDS_TransportBuiltinQosPolicy</a>. </p>
<p>To specify the properties of the builtin shared memory transport that is implicitly registered, you can either: </p>
<ul>
<li>call <a class="el" href="group__NDDSTransportUserModule.html#ga7222b3167a2992001dacdc63bf2624ef" title="Set the properties used to create a builtin transport plugin.">NDDS_Transport_Support_set_builtin_transport_property</a> or </li>
<li>specify the pre-defined property names in <a class="el" href="structDDS__PropertyQosPolicy.html" title="Stores name/value(string) pairs that can be used to configure certain parameters of RTI Connext that ...">DDS_PropertyQosPolicy</a> associated with the <a class="el" href="group__DDSDomainParticipantModule.html#ga1964274885335d5bcea6855f66b0bfe1" title="&lt;&lt;interface&gt;&gt; Container for all DDS_DomainEntity objects.">DDS_DomainParticipant</a>. (see <a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#TransportSHMEMPropertyNameModule">Shared Memory Transport Property Names in Property QoS Policy of Domain Participant</a>). </li>
</ul>
<p>Builtin transport plugin properties specified in <a class="el" href="structDDS__PropertyQosPolicy.html" title="Stores name/value(string) pairs that can be used to configure certain parameters of RTI Connext that ...">DDS_PropertyQosPolicy</a> always overwrite the ones specified through <a class="el" href="group__NDDSTransportUserModule.html#ga7222b3167a2992001dacdc63bf2624ef" title="Set the properties used to create a builtin transport plugin.">NDDS_Transport_Support_set_builtin_transport_property()</a>. The default value is assumed on any unspecified property. Note that all properties should be set before the transport is implicitly created and registered by RTI Connext. See <a class="el" href="group__NDDS__TransportBuiltinsComponent.html">Built-in Transport Plugins</a> for details on when a builtin transport is registered. </p>
<p>To explicitly create an instance of this plugin, <a class="el" href="group__NDDS__Transport__Shmem__Plugin.html#ga56bbb55e11d7fa68003cf3a5d9cc0c43">NDDS_Transport_Shmem_new()</a> should be called. The instance should be registered with RTI Connext, see <a class="el" href="group__NDDSTransportUserModule.html#gada514240ebbfb86d8c612fbc9c42fea8" title="Register a transport plugin for use with a DDS_DomainParticipant, assigning it a network_address.">NDDS_Transport_Support_register_transport</a>. In some configurations, you may have to disable the builtin shared memory transport plugin instance (<a class="el" href="structDDS__TransportBuiltinQosPolicy.html" title="Specifies which built-in transports are used.">DDS_TransportBuiltinQosPolicy</a>, <a class="el" href="group__DDSTransportBuiltinQosModule.html#gga7e413d72243d5e455e53b6c253945f2faf52465922ef11f74c7fa91d36bf3b8d6" title="Built-in shared memory transport, ::Shared Memory Transport.">DDS_TRANSPORTBUILTIN_SHMEM</a>), to avoid port conflicts with the newly created plugin instance. </p>
<h1><a class="anchor" id="TransportSHMEMPropertyNameModule"></a>
Shared Memory Transport Property Names in Property QoS Policy of Domain Participant</h1>
<p>The following table lists the predefined property names that can be set in the <a class="el" href="structDDS__PropertyQosPolicy.html" title="Stores name/value(string) pairs that can be used to configure certain parameters of RTI Connext that ...">DDS_PropertyQosPolicy</a> of a <a class="el" href="group__DDSDomainParticipantModule.html#ga1964274885335d5bcea6855f66b0bfe1" title="&lt;&lt;interface&gt;&gt; Container for all DDS_DomainEntity objects.">DDS_DomainParticipant</a> to configure the builtin shared memory transport plugin. </p>
<center> <table class="doxtable">
<caption align="bottom"><em>Property Strings for Shared Memory Transport</em></caption>
<tr>
<th><b> Name </b>  </th><th><p class="starttd"><b> Descriptions </b>  </p>
<p></p>
<p class="endtd"></p>
</th></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.address_bit_count </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a5a2ee05f550b32ac32a3c9b520216202" title="Number of bits in a 16-byte address that are used by the transport. Should be between 0 and 128...">NDDS_Transport_Property_t::address_bit_count</a>  </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.properties_bitmap </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a9aa8b4998b2dde4cc303b44a0c458b77" title="A bitmap that defines various properties of the transport to the RTI Connext core.">NDDS_Transport_Property_t::properties_bitmap</a>  </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.gather_send_buffer_count_max </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a3e830e6ff13c82dc46ef39e7d6169be2" title="Specifies the maximum number of buffers that RTI Connext can pass to the send() function of a transpo...">NDDS_Transport_Property_t::gather_send_buffer_count_max</a>  </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.message_size_max </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a4ab89765aee4395142e2dabc7849a46a" title="The maximum size of an RTPS message in bytes that can be sent or received by the transport plugin...">NDDS_Transport_Property_t::message_size_max</a>  </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.allow_interfaces </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a4fe78eb17d3113ab7b19666bdebc74b8" title="A list of strings, each identifying a range of interface addresses or an interface name...">NDDS_Transport_Property_t::allow_interfaces_list</a> and <a class="el" href="structNDDS__Transport__Property__t.html#aefb52fdb768c5dd345c6f80e59eaafd9" title="Number of elements in the allow_interfaces_list.">NDDS_Transport_Property_t::allow_interfaces_list_length</a>. <br/>
 Interfaces should be specified as comma-separated strings, with each comma delimiting an interface. For example: 127.0.0.1,eth0   </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.deny_interfaces </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a5cdeaa8a2ef3a32cac477c487c0e2cf6" title="A list of strings, each identifying a range of interface addresses or an interface name...">NDDS_Transport_Property_t::deny_interfaces_list</a> and <a class="el" href="structNDDS__Transport__Property__t.html#a3df8a19f01b332cdacc2972cfbc687fa" title="Number of elements in the deny_interfaces_list.">NDDS_Transport_Property_t::deny_interfaces_list_length</a>. <br/>
 Interfaces should be specified as comma-separated strings, with each comma delimiting an interface. For example: 127.0.0.1,eth0   </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.allow_multicast_interfaces </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#a53edf45a5ba7a827ccbbc7ac244305dc" title="A list of strings, each identifying a range of interface addresses or an interface name...">NDDS_Transport_Property_t::allow_multicast_interfaces_list</a> and <a class="el" href="structNDDS__Transport__Property__t.html#ad21b2883cbff15f6b9a1a76ced37d2bb" title="Number of elements in the allow_multicast_interfaces_list.">NDDS_Transport_Property_t::allow_multicast_interfaces_list_length</a>. <br/>
 Interfaces should be specified as comma-separated strings, with each comma delimiting an interface. For example: 127.0.0.1,eth0   </td></tr>
<tr>
<td>dds.transport.shmem.builtin.parent.deny_multicast_interfaces </td><td>See <a class="el" href="structNDDS__Transport__Property__t.html#aee02ed299b471a0a09adf464ca467154" title="A list of strings, each identifying a range of interface addresses or an interface name...">NDDS_Transport_Property_t::deny_multicast_interfaces_list</a> and <a class="el" href="structNDDS__Transport__Property__t.html#a6a8978297019dd39fc8eea1de70e0bb8" title="Number of elements in deny_multicast_interfaces_list.">NDDS_Transport_Property_t::deny_multicast_interfaces_list_length</a>. Interfaces should be specified as comma-separated strings, with each comma delimiting an interface. For example: 127.0.0.1,eth0   </td></tr>
<tr>
<td>dds.transport.shmem.builtin.received_message_count_max </td><td>See <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a240f1296a35c1edb35b40e6902cffbc6" title="Number of messages that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::received_message_count_max</a>  </td></tr>
<tr>
<td>dds.transport.shmem.builtin.receive_buffer_size </td><td><p class="starttd">See <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a5e4bdc80e1538c2ea1315504435f22b7" title="The total number of bytes that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::receive_buffer_size</a>  </p>
<p></p>
<p class="endtd"></p>
</td></tr>
</table>
</center> <h2>Macro Definition Documentation</h2>
<a class="anchor" id="ga919ce9101d78fe359c03f813be2c6369"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_CLASSID_SHMEM&#160;&#160;&#160;(0x01000000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builtin Shared-Memory Transport-Plugin class ID. </p>

</div>
</div>
<a class="anchor" id="ga5e9cb36926742a006823c87911bc9bbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_CLASSID_SHMEM_510&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builtin Shared-Memory Transport-Plugin class ID for Connext 5.1.0 and earlier. </p>

</div>
</div>
<a class="anchor" id="ga35cfedd492afcf0252b31c8b98151278"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_ADDRESS_BIT_COUNT&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a5a2ee05f550b32ac32a3c9b520216202" title="Number of bits in a 16-byte address that are used by the transport. Should be between 0 and 128...">NDDS_Transport_Property_t::address_bit_count</a>. </p>

</div>
</div>
<a class="anchor" id="gae18a8a8166ece7b6e6370051acdcd987"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_PROPERTIES_BITMAP_DEFAULT&#160;&#160;&#160;( <a class="el" href="group__NDDS__Transport__Property__t.html#ga099cc5d8911cbf822b2885df441a7d1f">NDDS_TRANSPORT_PROPERTY_BIT_BUFFER_ALWAYS_LOANED</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a9aa8b4998b2dde4cc303b44a0c458b77" title="A bitmap that defines various properties of the transport to the RTI Connext core.">NDDS_Transport_Property_t::properties_bitmap</a>. </p>

</div>
</div>
<a class="anchor" id="gaf251fea27c4351dfb13f46c19a23f922"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_GATHER_SEND_BUFFER_COUNT_MAX_DEFAULT&#160;&#160;&#160;(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a3e830e6ff13c82dc46ef39e7d6169be2" title="Specifies the maximum number of buffers that RTI Connext can pass to the send() function of a transpo...">NDDS_Transport_Property_t::gather_send_buffer_count_max</a>. </p>

</div>
</div>
<a class="anchor" id="gaf4b9589b7eb1e891a925af3f59eee51d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_MESSAGE_SIZE_MAX_DEFAULT&#160;&#160;&#160;(65536)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of <a class="el" href="structNDDS__Transport__Property__t.html#a4ab89765aee4395142e2dabc7849a46a" title="The maximum size of an RTPS message in bytes that can be sent or received by the transport plugin...">NDDS_Transport_Property_t::message_size_max</a>. </p>

</div>
</div>
<a class="anchor" id="gac5d6855abc3bcacebe67b0c221830d59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_RECEIVED_MESSAGE_COUNT_MAX_DEFAULT&#160;&#160;&#160;(64)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value of <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a240f1296a35c1edb35b40e6902cffbc6" title="Number of messages that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::received_message_count_max</a>. </p>

</div>
</div>
<a class="anchor" id="gaf1826abf2f3c8fe2b16ebda60bdea22c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_RECEIVE_BUFFER_SIZE_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="group__NDDS__Transport__Shmem__Plugin.html#gac5d6855abc3bcacebe67b0c221830d59" title="Default value of NDDS_Transport_Shmem_Property_t::received_message_count_max.">NDDS_TRANSPORT_SHMEM_RECEIVED_MESSAGE_COUNT_MAX_DEFAULT</a> * \</div>
<div class="line">         NDDS_TRANSPORT_SHMEM_MESSAGE_SIZE_MAX_DEFAULT / 4)</div>
</div><!-- fragment -->
<p>Default value of <a class="el" href="structNDDS__Transport__Shmem__Property__t.html#a5e4bdc80e1538c2ea1315504435f22b7" title="The total number of bytes that can be buffered in the receive queue.">NDDS_Transport_Shmem_Property_t::receive_buffer_size</a>. </p>

</div>
</div>
<a class="anchor" id="ga65efdcaf595c921c233ac1b4febec582"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDDS_TRANSPORT_SHMEM_PROPERTY_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this to initialize stack variable. </p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="ga56bbb55e11d7fa68003cf3a5d9cc0c43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDDS_Transport_Plugin* NDDS_Transport_Shmem_new </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structNDDS__Transport__Shmem__Property__t.html">NDDS_Transport_Shmem_Property_t</a> *&#160;</td>
          <td class="paramname"><em>property_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shmem process transport. </p>
<p>An application may create multiple transports, possibly for use in different domains.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">property_in</td><td><em><a class="el" href="group__DDSDocGuideModule.html#a_st_in">&lt;&lt;in&gt;&gt;</a></em> Desired behavior of this transport. May be NULL for default property. The transport plugin can only support one unicast receive interface; therefore the interface selection lists are ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>handle to a Shmem inter-process Transport Plugin on success </dd>
<dd>
NULL on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga648b5f684c9fd09d9462935a8a0431f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDDS_Transport_Plugin* NDDS_Transport_Shmem_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNDDS__Transport__Address__t.html">NDDS_Transport_Address_t</a> *&#160;</td>
          <td class="paramname"><em>default_network_address_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structDDS__PropertyQosPolicy.html">DDS_PropertyQosPolicy</a> *&#160;</td>
          <td class="paramname"><em>property_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shmem process transport, using PropertyQosPolicy. </p>
<p>An application may create multiple transports, possibly for use in different domains.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">default_network_address_out</td><td><em><a class="el" href="group__DDSDocGuideModule.html#a_st_out">&lt;&lt;out&gt;&gt;</a></em> Network address to be used when registering the transport. </td></tr>
    <tr><td class="paramname">property_in</td><td><em><a class="el" href="group__DDSDocGuideModule.html#a_st_in">&lt;&lt;in&gt;&gt;</a></em> Desired behavior of this transport. May be NULL for default property. The transport plugin can only support one unicast receive interface; therefore the interface selection lists are ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>handle to a Shmem inter-process Transport Plugin on success </dd>
<dd>
NULL on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Connext C API Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
