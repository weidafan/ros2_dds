<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Connext C API: DDS_ThreadFactory Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Connext C API
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structDDS__ThreadFactory.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">DDS_ThreadFactory Struct Reference<div class="ingroups"><a class="el" href="group__DDSUserManagedThreadModule.html">User-managed Threads</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> <em><a class="el" href="group__DDSDocGuideModule.html#a_st_interface">&lt;&lt;interface&gt;&gt;</a></em> Interface for providing the threads needed by the middleware.  
 <a href="structDDS__ThreadFactory.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:aecd43908c13e11fa737934967a7d7ce4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__ThreadFactory.html#aecd43908c13e11fa737934967a7d7ce4">factory_data</a></td></tr>
<tr class="memdesc:aecd43908c13e11fa737934967a7d7ce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A place for interface implementors to keep a pointer to data that may be needed by their factory.  <a href="#aecd43908c13e11fa737934967a7d7ce4"></a><br/></td></tr>
<tr class="separator:aecd43908c13e11fa737934967a7d7ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08086ea0899ee75920d8d9953dd841c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSUserManagedThreadModule.html#gad7f2e8e4dd7366e5f8b499a70dad948a">DDS_ThreadFactory_CreateThreadCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__ThreadFactory.html#a08086ea0899ee75920d8d9953dd841c2">create_thread</a></td></tr>
<tr class="memdesc:a08086ea0899ee75920d8d9953dd841c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the creation of new threads.  <a href="#a08086ea0899ee75920d8d9953dd841c2"></a><br/></td></tr>
<tr class="separator:a08086ea0899ee75920d8d9953dd841c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d1bef5ead71ce5c65301a77ad1577d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSUserManagedThreadModule.html#ga5ca50f74e68a4afa7003f8e6b31ea1cf">DDS_ThreadFactory_DeleteThreadCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__ThreadFactory.html#a69d1bef5ead71ce5c65301a77ad1577d">delete_thread</a></td></tr>
<tr class="memdesc:a69d1bef5ead71ce5c65301a77ad1577d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the deletion of threads previously created by this factory.  <a href="#a69d1bef5ead71ce5c65301a77ad1577d"></a><br/></td></tr>
<tr class="separator:a69d1bef5ead71ce5c65301a77ad1577d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> <em><a class="el" href="group__DDSDocGuideModule.html#a_st_interface">&lt;&lt;interface&gt;&gt;</a></em> Interface for providing the threads needed by the middleware. </p>
<p>It consists of operations to create and delete threads. The interface depends on the <a class="el" href="group__DDSUserManagedThreadModule.html#ga51e8e742b47cbb3703d03d8fee7e0570" title="Prototype of the function that must be called on a new thread created by a DDS_ThreadFactory.">DDS_ThreadFactory_OnSpawnedFunction</a> that specifies the operation to run in the new thread. </p>
</div><h2>Field Documentation</h2>
<a class="anchor" id="aecd43908c13e11fa737934967a7d7ce4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* DDS_ThreadFactory::factory_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A place for interface implementors to keep a pointer to data that may be needed by their factory. </p>

</div>
</div>
<a class="anchor" id="a08086ea0899ee75920d8d9953dd841c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSUserManagedThreadModule.html#gad7f2e8e4dd7366e5f8b499a70dad948a">DDS_ThreadFactory_CreateThreadCallback</a> DDS_ThreadFactory::create_thread</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the creation of new threads. </p>
<p>This callback is called by the middleware whenever it needs to create a new thread. The operation creates a new thread of control that will call the function specified by <a class="el" href="group__DDSUserManagedThreadModule.html#ga51e8e742b47cbb3703d03d8fee7e0570" title="Prototype of the function that must be called on a new thread created by a DDS_ThreadFactory.">DDS_ThreadFactory_OnSpawnedFunction</a>. On success, this operation must guarantee that after return the new thread of control been spawned and its execution has started or will start some time after. </p>
<p>The <a class="el" href="group__DDSUserManagedThreadModule.html#ga51e8e742b47cbb3703d03d8fee7e0570" title="Prototype of the function that must be called on a new thread created by a DDS_ThreadFactory.">DDS_ThreadFactory_OnSpawnedFunction</a>, function must be called in the new thread and return its value on finalization. The function should be called as follows: </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> * thread_out = on_spawned(thread_params);</div>
<div class="line"> ...</div>
<div class="line"> <span class="keywordflow">return</span> thread_out; </div>
</div><!-- fragment --> <p>Some thread frameworks do this directly by just receiving the function and its parameters as arguments on thread creation. For instance, POSIX follows this model when creating a thread and the start_routine function has the same signature as <a class="el" href="group__DDSUserManagedThreadModule.html#ga51e8e742b47cbb3703d03d8fee7e0570" title="Prototype of the function that must be called on a new thread created by a DDS_ThreadFactory.">DDS_ThreadFactory_OnSpawnedFunction</a>, so the parameter can be passed directly: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> result = pthread_create(&amp;pthread_handle, &amp;attr, on_spawned, thread_params);</div>
<div class="line"> ...</div>
<div class="line"> <span class="keywordflow">return</span> &amp;pthread_handle; </div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a69d1bef5ead71ce5c65301a77ad1577d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSUserManagedThreadModule.html#ga5ca50f74e68a4afa7003f8e6b31ea1cf">DDS_ThreadFactory_DeleteThreadCallback</a> DDS_ThreadFactory::delete_thread</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the deletion of threads previously created by this factory. </p>
<p>This callback is called by the middleware whenever it needs to delete a thread. This operation deletes a thread previously created via a call to <a class="el" href="structDDS__ThreadFactory.html#a08086ea0899ee75920d8d9953dd841c2" title="Handles the creation of new threads.">DDS_ThreadFactory::create_thread</a> on the same factory object. On success, the thread must be deleted but it does not have to guarantee that the execution has finished. Likewise, resources associated with the underlying operating system may be still in use. Depending on the thread framework, resources allocated on thread creation are released upon thread finalization. POSIX follows this model so no actions are required on the thread handle returned by pthread_create(). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Connext C API Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
