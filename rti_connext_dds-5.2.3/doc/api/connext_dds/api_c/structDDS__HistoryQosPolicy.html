<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Connext C API: DDS_HistoryQosPolicy Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Connext C API
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structDDS__HistoryQosPolicy.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">DDS_HistoryQosPolicy Struct Reference<div class="ingroups"><a class="el" href="group__DDSHistoryQosModule.html">HISTORY</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Specifies the behavior of RTI Connext in the case where the value of a sample changes (one or more times) before it can be successfully communicated to one or more existing subscribers.  
 <a href="structDDS__HistoryQosPolicy.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a3cb2743cd13a81614bcc4f314cd640ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSHistoryQosModule.html#ga96c54dadb2beb87b23776e766e282185">DDS_HistoryQosPolicyKind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__HistoryQosPolicy.html#a3cb2743cd13a81614bcc4f314cd640ab">kind</a></td></tr>
<tr class="memdesc:a3cb2743cd13a81614bcc4f314cd640ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the kind of history to be kept.  <a href="#a3cb2743cd13a81614bcc4f314cd640ab"></a><br/></td></tr>
<tr class="separator:a3cb2743cd13a81614bcc4f314cd640ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0fb3fd3579866be17d1a936f5e3729"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSCdrTypesModule.html#gadf1aad514e46148e661fc43b61845ed6">DDS_Long</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__HistoryQosPolicy.html#aef0fb3fd3579866be17d1a936f5e3729">depth</a></td></tr>
<tr class="memdesc:aef0fb3fd3579866be17d1a936f5e3729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the number of samples to be kept, when the <code>kind</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a993d3120b7bbb347ce11e0e6f68b29ff" title="[default] Keep the last depth samples.">DDS_KEEP_LAST_HISTORY_QOS</a>.  <a href="#aef0fb3fd3579866be17d1a936f5e3729"></a><br/></td></tr>
<tr class="separator:aef0fb3fd3579866be17d1a936f5e3729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fc2012e6696f112fed75bfbb9181c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSHistoryQosModule.html#ga2eec16ce240664606523f2f3fe15afaf">DDS_RefilterQosPolicyKind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__HistoryQosPolicy.html#a57fc2012e6696f112fed75bfbb9181c8">refilter</a></td></tr>
<tr class="memdesc:a57fc2012e6696f112fed75bfbb9181c8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> Specifies how a writer should handle previously written samples to a new reader.  <a href="#a57fc2012e6696f112fed75bfbb9181c8"></a><br/></td></tr>
<tr class="separator:a57fc2012e6696f112fed75bfbb9181c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Specifies the behavior of RTI Connext in the case where the value of a sample changes (one or more times) before it can be successfully communicated to one or more existing subscribers. </p>
<p>This QoS policy specifies how much data must to stored by RTI Connext for a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> or <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>. It controls whether RTI Connext should deliver only the most recent value, attempt to deliver all intermediate values, or do something in between. </p>
<p>On the publishing side, this QoS policy controls the samples that should be maintained by the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> on behalf of existing <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> entities. The behavior with regards to a <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> entities discovered after a sample is written is controlled by the <a class="el" href="group__DDSDurabilityQosModule.html">DURABILITY</a> policy. </p>
<p>On the subscribing side, this QoS policy controls the samples that should be maintained until the application "takes" them from RTI Connext. </p>
<dl class="section user"><dt>Entity:</dt><dd><a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a>, <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>, <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> </dd></dl>
<dl class="section user"><dt>Properties:</dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = NO <br/>
 <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> = <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_until_enable">UNTIL ENABLE</a> <br/>
 </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structDDS__ReliabilityQosPolicy.html" title="Indicates the level of reliability offered/requested by RTI Connext.">DDS_ReliabilityQosPolicy</a> </dd>
<dd>
<a class="el" href="structDDS__HistoryQosPolicy.html" title="Specifies the behavior of RTI Connext in the case where the value of a sample changes (one or more ti...">DDS_HistoryQosPolicy</a> </dd></dl>
<h1><a class="anchor" id="DDSHistoryQosModule_usage"></a>
Usage</h1>
<p>This policy controls the behavior of RTI Connext when the value of an instance changes before it is finally communicated to <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> entities. </p>
<p>When a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> sends data, or a <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> receives data, the data sent or received is stored in a cache whose contents are controlled by this QoS policy. This QoS policy interacts with <a class="el" href="structDDS__ReliabilityQosPolicy.html" title="Indicates the level of reliability offered/requested by RTI Connext.">DDS_ReliabilityQosPolicy</a> by controlling whether RTI Connext guarantees that <em>all</em> of the sent data is received (<a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a9e526d876dae232aa083125c72135f5b" title="Keep all the samples.">DDS_KEEP_ALL_HISTORY_QOS</a>) or if only the last N data values sent are guaranteed to be received (<a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a9e526d876dae232aa083125c72135f5b" title="Keep all the samples.">DDS_KEEP_ALL_HISTORY_QOS</a>)&ndash;this is a reduced level of reliability. </p>
<p>The amount of data that is sent to new DataReaders who have configured their <a class="el" href="structDDS__DurabilityQosPolicy.html" title="This QoS policy specifies whether or not RTI Connext will store and deliver previously published data...">DDS_DurabilityQosPolicy</a> to receive previously published data is also controlled by the History QoS policy. </p>
<p>Note that the History QoS policy does not control the <em>physical</em> sizes of the send and receive queues. The memory allocation for the queues is controlled by the <a class="el" href="structDDS__ResourceLimitsQosPolicy.html" title="Controls the amount of physical memory allocated for DDS entities, if dynamic allocations are allowed...">DDS_ResourceLimitsQosPolicy</a>. </p>
<p>If <code>kind</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a993d3120b7bbb347ce11e0e6f68b29ff" title="[default] Keep the last depth samples.">DDS_KEEP_LAST_HISTORY_QOS</a> (the default), then RTI Connext will only attempt to keep the latest values of the instance and discard the older ones. In this case, the value of <code>depth</code> regulates the maximum number of values (up to and including the most current one) RTI Connext will maintain and deliver. After <em>N</em> values have been sent or received, any new data will overwrite the oldest data in the queue. Thus the queue acts like a circular buffer of length <em>N</em>. </p>
<p>The default (and most common setting) for <code>depth</code> is 1, indicating that only the most recent value should be delivered. </p>
<p>If <code>kind</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a9e526d876dae232aa083125c72135f5b" title="Keep all the samples.">DDS_KEEP_ALL_HISTORY_QOS</a>, then RTI Connext will attempt to maintain and deliver all the values of the instance to existing subscribers. The resources that RTI Connext can use to keep this history are limited by the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a>. If the limit is reached, then the behavior of RTI Connext will depend on the <a class="el" href="group__DDSReliabilityQosModule.html">RELIABILITY</a>. If the Reliability <code>kind</code> is <a class="el" href="group__DDSReliabilityQosModule.html#ggaf09e82d431c2328186c7fb4b3fa9ad91aae82431f2015239328733f3cb41d780d" title="Indicates that it is acceptable to not retry propagation of any samples.">DDS_BEST_EFFORT_RELIABILITY_QOS</a>, then the old values will be discarded. If Reliability <code>kind</code> is RELIABLE, then RTI Connext will block the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> until it can deliver the necessary old values to all subscribers. </p>
<p>If <code>refilter</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga2eec16ce240664606523f2f3fe15afafa15094145b5c80aa0a20e4c737cde450d" title="[default] Do not filter existing samples for a new reader">DDS_NONE_REFILTER_QOS</a>, then samples written before a DataReader is matched to a DataWriter are not refiltered by the DataWriter. </p>
<p>If <code>refilter</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga2eec16ce240664606523f2f3fe15afafa4e27405a911349d1ea74e08254fe48c8" title="Filter all existing samples for a new reader.">DDS_ALL_REFILTER_QOS</a>, then all samples written before a DataReader is matched to a DataWriter are refiltered by the DataWriter when the DataReader is matched. </p>
<p>If <code>refilter</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga2eec16ce240664606523f2f3fe15afafaf380823256d466dbbc35b1e19d0ae10c" title="Filter existing samples only when they are requested by the reader.">DDS_ON_DEMAND_REFILTER_QOS</a>, then a DataWriter will only refilter samples that a DataReader requests. </p>
<h1><a class="anchor" id="DDSHistoryQosModule_consistency"></a>
Consistency</h1>
<p>This QoS policy's <code>depth</code> must be consistent with the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> <code>max_samples_per_instance</code>. For these two QoS to be consistent, they must verify that <em>depth &lt;= max_samples_per_instance</em>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structDDS__ResourceLimitsQosPolicy.html" title="Controls the amount of physical memory allocated for DDS entities, if dynamic allocations are allowed...">DDS_ResourceLimitsQosPolicy</a> </dd></dl>
</div><h2>Field Documentation</h2>
<a class="anchor" id="a3cb2743cd13a81614bcc4f314cd640ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSHistoryQosModule.html#ga96c54dadb2beb87b23776e766e282185">DDS_HistoryQosPolicyKind</a> DDS_HistoryQosPolicy::kind</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the kind of history to be kept. </p>
<p><b>[default]</b> <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a993d3120b7bbb347ce11e0e6f68b29ff" title="[default] Keep the last depth samples.">DDS_KEEP_LAST_HISTORY_QOS</a> </p>

</div>
</div>
<a class="anchor" id="aef0fb3fd3579866be17d1a936f5e3729"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSCdrTypesModule.html#gadf1aad514e46148e661fc43b61845ed6">DDS_Long</a> DDS_HistoryQosPolicy::depth</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the number of samples to be kept, when the <code>kind</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a993d3120b7bbb347ce11e0e6f68b29ff" title="[default] Keep the last depth samples.">DDS_KEEP_LAST_HISTORY_QOS</a>. </p>
<p>If a value other than 1 (the default) is specified, it should be consistent with the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> policy. That is: </p>
<p>depth &lt;= <a class="el" href="structDDS__ResourceLimitsQosPolicy.html#ae3d9339bebf4c7163cf6dff82882cbef" title="Represents the maximum number of samples of any one instance a DDS_DataWriter (or DDS_DataReader) can...">DDS_ResourceLimitsQosPolicy::max_samples_per_instance</a> </p>
<p>When the <code>kind</code> is <a class="el" href="group__DDSHistoryQosModule.html#gga96c54dadb2beb87b23776e766e282185a9e526d876dae232aa083125c72135f5b" title="Keep all the samples.">DDS_KEEP_ALL_HISTORY_QOS</a>, the depth has no effect. Its implied value is <code>infinity</code> (in practice limited by the settings of the <a class="el" href="group__DDSResourceLimitsQosModule.html">RESOURCE_LIMITS</a> policy). </p>
<p><b>[default]</b> 1 </p>
<p><b>[range]</b> [1,100 million], &lt;= <a class="el" href="structDDS__ResourceLimitsQosPolicy.html#ae3d9339bebf4c7163cf6dff82882cbef" title="Represents the maximum number of samples of any one instance a DDS_DataWriter (or DDS_DataReader) can...">DDS_ResourceLimitsQosPolicy::max_samples_per_instance</a> </p>

</div>
</div>
<a class="anchor" id="a57fc2012e6696f112fed75bfbb9181c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSHistoryQosModule.html#ga2eec16ce240664606523f2f3fe15afaf">DDS_RefilterQosPolicyKind</a> DDS_HistoryQosPolicy::refilter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> Specifies how a writer should handle previously written samples to a new reader. </p>
<p><b>[default]</b> <a class="el" href="group__DDSHistoryQosModule.html#gga2eec16ce240664606523f2f3fe15afafa15094145b5c80aa0a20e4c737cde450d" title="[default] Do not filter existing samples for a new reader">DDS_NONE_REFILTER_QOS</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Connext C API Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
