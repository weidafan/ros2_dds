<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Connext C API: DDS_OwnershipQosPolicy Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Connext C API
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structDDS__OwnershipQosPolicy.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">DDS_OwnershipQosPolicy Struct Reference<div class="ingroups"><a class="el" href="group__DDSOwnershipQosModule.html">OWNERSHIP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Specifies whether it is allowed for multiple <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> (s) to write the same instance of the data and if so, how these modifications should be arbitrated.  
 <a href="structDDS__OwnershipQosPolicy.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a27bb5132fe04e1d932300786f79654e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__DDSOwnershipQosModule.html#gaa88100c64a26cc036cb2eb2d631c3f43">DDS_OwnershipQosPolicyKind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDDS__OwnershipQosPolicy.html#a27bb5132fe04e1d932300786f79654e6">kind</a></td></tr>
<tr class="memdesc:a27bb5132fe04e1d932300786f79654e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The kind of ownership.  <a href="#a27bb5132fe04e1d932300786f79654e6"></a><br/></td></tr>
<tr class="separator:a27bb5132fe04e1d932300786f79654e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Specifies whether it is allowed for multiple <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> (s) to write the same instance of the data and if so, how these modifications should be arbitrated. </p>
<dl class="section user"><dt>Entity:</dt><dd><a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a>, <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>, <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> </dd></dl>
<dl class="section user"><dt>Status:</dt><dd><a class="el" href="group__DDSStatusTypesModule.html#ggaa99b5585ecdf8c5f93ac3108439ad26fa1eb2a68f0c66c314784737a7728922b8" title="A QosPolicy value was incompatible with what was requested.">DDS_OFFERED_INCOMPATIBLE_QOS_STATUS</a>, <a class="el" href="group__DDSStatusTypesModule.html#ggaa99b5585ecdf8c5f93ac3108439ad26fa126ff1b38cdfc905353cb2dac57b6796" title="A QosPolicy value was incompatible with what is offered.">DDS_REQUESTED_INCOMPATIBLE_QOS_STATUS</a> </dd></dl>
<dl class="section user"><dt>Properties:</dt><dd><a class="el" href="group__DDSQosTypesModule.html#a_prop_rxo">RxO</a> = YES <br/>
 <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable">Changeable</a> = <a class="el" href="group__DDSQosTypesModule.html#a_prop_changeable_until_enable">UNTIL ENABLE</a> <br/>
 </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__DDSOwnershipStrengthQosModule.html">OWNERSHIP_STRENGTH</a> </dd></dl>
<h1><a class="anchor" id="DDSOwnershipQosModule_usage"></a>
Usage</h1>
<p>Along with the <a class="el" href="group__DDSOwnershipStrengthQosModule.html">OWNERSHIP_STRENGTH</a>, this QoS policy specifies if <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> entities can receive updates to the same instance (identified by its key) from multiple <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> entities at the same time. </p>
<p>There are two kinds of ownership, selected by the setting of the <code>kind:</code> SHARED and EXCLUSIVE. </p>
<h2><a class="anchor" id="DDSOwnershipQosModule_usage_shared"></a>
SHARED ownership</h2>
<p><a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a262c9859d5c214495c02cd39366a335f" title="[default] Indicates shared ownership for each instance.">DDS_SHARED_OWNERSHIP_QOS</a> indicates that RTI Connext does not enforce unique ownership for each instance. In this case, multiple writers can update the same data type instance. The subscriber to the <a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a> will be able to access modifications from all <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> objects, subject to the settings of other QoS that may filter particular samples (e.g. the <a class="el" href="group__DDSTimeBasedFilterQosModule.html">TIME_BASED_FILTER</a> or <a class="el" href="group__DDSHistoryQosModule.html">HISTORY</a> policy). In any case, there is no "filtering" of modifications made based on the identity of the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that causes the modification. </p>
<h2><a class="anchor" id="DDSOwnershipQosModule_usage_exclusive"></a>
EXCLUSIVE ownership</h2>
<p><a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a6f223289a81f87d7929408a84a27f316" title="Indicates each instance can only be owned by one DDS_DataWriter, but the owner of an instance can cha...">DDS_EXCLUSIVE_OWNERSHIP_QOS</a> indicates that each instance of a data type can only be modified by one <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a>. In other words, at any point in time, a single <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> owns each instance and is the only one whose modifications will be visible to the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> objects. The owner is determined by selecting the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> with the highest value of the <a class="el" href="structDDS__OwnershipStrengthQosPolicy.html#afda6a59cd3cfd9bc904c98efc68a61eb" title="The strength value used to arbitrate among multiple writers.">DDS_OwnershipStrengthQosPolicy::value</a> that is currently alive, as defined by the <a class="el" href="group__DDSLivelinessQosModule.html">LIVELINESS</a> policy, and has not violated its <a class="el" href="group__DDSDeadlineQosModule.html">DEADLINE</a> contract with regards to the data instance. </p>
<p>Ownership can therefore change as a result of: </p>
<ul>
<li>a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> in the system with a higher value of the strength that modifies the instance, </li>
<li>a change in the strength value of the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that owns the instance, and </li>
<li>a change in the liveliness of the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that owns the instance. </li>
<li>a deadline with regards to the instance that is missed by the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that owns the instance. </li>
</ul>
<p>The behavior of the system is as if the determination was made independently by each <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>. Each <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> may detect the change of ownership at a different time. It is not a requirement that at a particular point in time all the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> objects for that <a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a> have a consistent picture of who owns each instance. </p>
<p>It is also not a requirement that the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> objects are aware of whether they own a particular instance. There is no error or notification given to a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that modifies an instance it does not currently own. </p>
<p>The requirements are chosen to (a) preserve the decoupling of publishers and subscriber, and (b) allow the policy to be implemented efficiently. </p>
<p>It is possible that multiple <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> objects with the same strength modify the same instance. If this occurs RTI Connext will pick one of the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> objects as the owner. It is not specified how the owner is selected. However, the algorithm used to select the owner guarantees that all <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> objects will make the same choice of the particular <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that is the owner. It also guarantees that the owner remains the same until there is a change in strength, liveliness, the owner misses a deadline on the instance, or a new <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> with higher same strength, or a new <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> with same strength that should be deemed the owner according to the policy of the Service, modifies the instance. </p>
<p>Exclusive ownership is on an instance-by-instance basis. That is, a subscriber can receive values written by a lower strength <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> as long as they affect instances whose values have not been set by the higher-strength <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a>. </p>
<h1><a class="anchor" id="DDSOwnershipQosModule_compatibility"></a>
Compatibility</h1>
<p>The value of the <a class="el" href="group__DDSOwnershipQosModule.html#gaa88100c64a26cc036cb2eb2d631c3f43" title="Kinds of ownership.">DDS_OwnershipQosPolicyKind</a> offered must exactly match the one requested or else they are considered incompatible. </p>
<h1><a class="anchor" id="Registration_liveliness_ownership"></a>
Relationship between registration, liveliness and ownership</h1>
<p>The need for registering/unregistering instances stems from two use cases: </p>
<ul>
<li>Ownership resolution on redundant systems </li>
</ul>
<ul>
<li>Detection of loss in topological connectivity </li>
</ul>
<p>These two use cases also illustrate the semantic differences between the <a class="el" href="group__DDSWriterModule.html#gaa6f4d83a43fd8e2f76aa23022f5874b4" title="Reverses the action of FooDataWriter_register_instance.">FooDataWriter_unregister_instance</a> and <a class="el" href="group__DDSWriterModule.html#ga1c34f0e5965f384268a9fef8cc017300" title="Requests the middleware to delete the data.">FooDataWriter_dispose</a>. </p>
<h2><a class="anchor" id="Ownership_redundant_systems"></a>
Ownership Resolution on Redundant Systems</h2>
<p>It is expected that users may use DDS to set up redundant systems where multiple <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> entities are "capable" of writing the same instance. In this situation, the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> entities are configured such that: </p>
<ul>
<li>Either both are writing the instance "constantly" </li>
</ul>
<ul>
<li>Or else they use some mechanism to classify each other as "primary" and "secondary", such that the primary is the only one writing, and the secondary monitors the primary and only writes when it detects that the primary "writer" is no longer writing. </li>
</ul>
<p>Both cases above use the <a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a6f223289a81f87d7929408a84a27f316" title="Indicates each instance can only be owned by one DDS_DataWriter, but the owner of an instance can cha...">DDS_EXCLUSIVE_OWNERSHIP_QOS</a> and arbitrate themselves by means of the <a class="el" href="structDDS__OwnershipStrengthQosPolicy.html" title="Specifies the value of the strength used to arbitrate among multiple DDS_DataWriter objects that atte...">DDS_OwnershipStrengthQosPolicy</a>. Regardless of the scheme, the desired behavior from the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> point of view is that <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> normally receives data from the primary unless the "primary" writer stops writing, in which case the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> starts to receive data from the secondary <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a>. </p>
<p>This approach requires some mechanism to detect that a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> (the primary) is no longer "writing" the data as it should. There are several reasons why this may happen and all must be detected (but not necessarily distinguished): </p>
<ul>
<li>[crash] The writing process is no longer running (e.g. the whole application has crashed) </li>
</ul>
<ul>
<li>[connectivity loss] Connectivity to the writing application has been lost (e.g. network disconnection) </li>
</ul>
<ul>
<li>[application fault] The application logic that was writing the data is faulty and has stopped calling <a class="el" href="group__DDSWriterModule.html#ga5326afcc07471f9589cc6f6c5c6c59b2" title="Modifies the value of a data instance.">FooDataWriter_write</a>. </li>
</ul>
<p>Arbitrating from a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> to one of a higher strength is simple and the decision can be taken autonomously by the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>. Switching ownership from a higher strength <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> to one of a lower strength <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> requires that the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> can make a determination that the stronger <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> is "no longer writing the instance". </p>
<h3><a class="anchor" id="Ownership_data_periodic_update"></a>
Case where the data is periodically updated</h3>
<p>This determination is reasonably simple when the data is being written periodically at some rate. The <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> simply states its offered <a class="el" href="structDDS__DeadlineQosPolicy.html" title="Expresses the maximum duration (deadline) within which an instance is expected to be updated...">DDS_DeadlineQosPolicy</a> (maximum interval between updates) and the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> automatically monitors that the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> indeed updates the instance at least once per <a class="el" href="structDDS__DeadlineQosPolicy.html#a3bc084edc8320df0e64d8ac2b857635d" title="Duration of the deadline period.">DDS_DeadlineQosPolicy::period</a>. If the deadline is missed, the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> considers the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> "not alive" and automatically gives ownership to the next highest-strength <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that <em>is</em> alive. </p>
<h3><a class="anchor" id="Ownership_data_not_periodic_update"></a>
Case where data is not periodically updated</h3>
<p>The case where the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> is not writing data periodically is also a very important use-case. Since the instance is not being updated at any fixed period, the "deadline" mechanism cannot be used to determine ownership. The liveliness solves this situation. Ownership is maintained while the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> is "alive" and for the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> to be alive it must fulfill its <a class="el" href="structDDS__LivelinessQosPolicy.html" title="Specifies and configures the mechanism that allows DDS_DataReader entities to detect when DDS_DataWri...">DDS_LivelinessQosPolicy</a> contract. The different means to renew liveliness (automatic, manual) combined by the implied renewal each time data is written handle the three conditions above [crash], [connectivity loss], and [application fault]. Note that to handle [application fault], LIVELINESS must be <a class="el" href="group__DDSLivelinessQosModule.html#gga3ea638553fd66356c38071040de062e5a6ea670a089709fe482e1c92f5ad1c255" title="RTI Connext will only assume liveliness of the DDS_DataWriter if the application has asserted livelin...">DDS_MANUAL_BY_TOPIC_LIVELINESS_QOS</a>. The <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> can retain ownership by periodically writing data or else calling assert_liveliness if it has no data to write. Alternatively if only protection against [crash] or [connectivity loss] is desired, it is sufficient that some task on the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> process periodically writes data or calls <a class="el" href="group__DDSDomainParticipantModule.html#gad50f1cf7876a5980046100e529539014" title="Manually asserts the liveliness of this DDS_DomainParticipant.">DDS_DomainParticipant_assert_liveliness</a>. However, this scenario requires that the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> knows what instances are being "written" by the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a>. That is the only way that the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a> deduces the ownership of specific instances from the fact that the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> is still "alive". Hence the need for the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> to "register" and "unregister" instances. Note that while "registration" can be done lazily the first time the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> writes the instance, "unregistration," in general, cannot. Similar reasoning will lead to the fact that unregistration will also require a message to be sent to the <a class="el" href="group__DDSReaderModule.html#ga49ce0cab2c1b60ddee4784a1432577a4" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DDS_DataReader</a>. </p>
<h2><a class="anchor" id="Ownership_loss_connectivity_detection"></a>
Detection of Loss in Topological Connectivity</h2>
<p>There are applications that are designed in such a way that their correct operation requires some minimal topological connectivity, that is, the writer needs to have a minimum number of readers or alternatively the reader must have a minimum number of writers. </p>
<p>A common scenario is that the application does not start doing its logic until it knows that some specific writers have the minimum configured readers (e.g the alarm monitor is up). </p>
<p>A <em>more</em> common scenario is that the application logic will wait until some writers appear that can provide some needed source of information (e.g. the raw sensor data that must be processed). </p>
<p>Furthermore, once the application is running it is a requirement that this minimal connectivity (from the source of the data) is monitored and the application informed if it is ever lost. For the case where data is being written periodically, the <a class="el" href="structDDS__DeadlineQosPolicy.html" title="Expresses the maximum duration (deadline) within which an instance is expected to be updated...">DDS_DeadlineQosPolicy</a> and the on_deadline_missed listener provides the notification. The case where data is not periodically updated requires the use of the <a class="el" href="structDDS__LivelinessQosPolicy.html" title="Specifies and configures the mechanism that allows DDS_DataReader entities to detect when DDS_DataWri...">DDS_LivelinessQosPolicy</a> in combination with register_instance/unregister_instance to detect whether the "connectivity" has been lost, and the notification is provided by means of <a class="el" href="group__DDSInstanceStateModule.html#ggaf2264cae1aa8cd66490debfdc5e0c360a72ebdc6f53c9a7588458b48e3ea66507" title="Not alive no writers for instance. None of the DDS_DataWriter objects that are currently alive (accor...">DDS_NOT_ALIVE_NO_WRITERS_INSTANCE_STATE</a>. </p>
<p>In terms of the required mechanisms, the scenario is very similar to the case of maintaining ownership. In both cases, the reader needs to know whether a writer is still "managing the current value of an                  instance" even though it is not continually writing it and this knowledge requires the writer to keep its liveliness plus some means to know which instances the writer is currently "managing" (i.e. the registered instances). </p>
<h2><a class="anchor" id="Unregister_instance_and_dispose_difference"></a>
Semantic Difference between unregister_instance and dispose</h2>
<p><a class="el" href="group__DDSWriterModule.html#ga1c34f0e5965f384268a9fef8cc017300" title="Requests the middleware to delete the data.">FooDataWriter_dispose</a> is semantically different from <a class="el" href="group__DDSWriterModule.html#gaa6f4d83a43fd8e2f76aa23022f5874b4" title="Reverses the action of FooDataWriter_register_instance.">FooDataWriter_unregister_instance</a>. <a class="el" href="group__DDSWriterModule.html#ga1c34f0e5965f384268a9fef8cc017300" title="Requests the middleware to delete the data.">FooDataWriter_dispose</a> indicates that the data instance no longer exists (e.g. a track that has disappeared, a simulation entity that has been destroyed, a record entry that has been deleted, etc.) whereas <a class="el" href="group__DDSWriterModule.html#gaa6f4d83a43fd8e2f76aa23022f5874b4" title="Reverses the action of FooDataWriter_register_instance.">FooDataWriter_unregister_instance</a> indicates that the writer is no longer taking responsibility for updating the value of the instance. </p>
<p>Deleting a <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> is equivalent to unregistering all the instances it was writing, but is <em>not</em> the same as "disposing" all the instances. </p>
<p>For a <a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a> with <a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a6f223289a81f87d7929408a84a27f316" title="Indicates each instance can only be owned by one DDS_DataWriter, but the owner of an instance can cha...">DDS_EXCLUSIVE_OWNERSHIP_QOS</a>, if the current owner of an instance <em>disposes</em> it, the readers accessing the instance will see the instance_state as being "DISPOSED" and not see the values being written by the weaker writer (even after the stronger one has disposed the instance). This is because the <a class="el" href="group__DDSWriterModule.html#gafb74fa54675abe1bfb2090265bf4d116" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given DDS_To...">DDS_DataWriter</a> that owns the instance is saying that the instance no longer exists (e.g. the master of the database is saying that a record has been deleted) and thus the readers should see it as such. </p>
<p>For a <a class="el" href="group__DDSTopicEntityModule.html#ga7f615cc63381c78f535904e370cf1356" title="&lt;&lt;interface&gt;&gt; The most basic description of the data to be published and subscribed.">DDS_Topic</a> with <a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a6f223289a81f87d7929408a84a27f316" title="Indicates each instance can only be owned by one DDS_DataWriter, but the owner of an instance can cha...">DDS_EXCLUSIVE_OWNERSHIP_QOS</a>, if the current owner of an instance <em>unregisters</em> it, then it will relinquish ownership of the instance and thus the readers may see the value updated by another writer (which will then become the owner). This is because the owner said that it no longer will be providing values for the instance and thus another writer can take ownership and provide those values. </p>
</div><h2>Field Documentation</h2>
<a class="anchor" id="a27bb5132fe04e1d932300786f79654e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__DDSOwnershipQosModule.html#gaa88100c64a26cc036cb2eb2d631c3f43">DDS_OwnershipQosPolicyKind</a> DDS_OwnershipQosPolicy::kind</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The kind of ownership. </p>
<p><b>[default]</b> <a class="el" href="group__DDSOwnershipQosModule.html#ggaa88100c64a26cc036cb2eb2d631c3f43a262c9859d5c214495c02cd39366a335f" title="[default] Indicates shared ownership for each instance.">DDS_SHARED_OWNERSHIP_QOS</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Connext C API Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
