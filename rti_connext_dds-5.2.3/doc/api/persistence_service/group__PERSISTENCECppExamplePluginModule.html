<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Persistence Service: HelloWorldPlugin.cxx</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Persistence Service
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__PERSISTENCECppExamplePluginModule.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HelloWorldPlugin.cxx</div>  </div>
<div class="ingroups"><a class="el" href="group__PERSISTENCECppExampleModule.html">C++ Example</a></div></div><!--header-->
<div class="contents">
<p>[$(NDDSHOME)/example/CPP/helloWorldPersistence/HelloWorldPlugin.h] </p>
<div class="fragment"><div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">WARNING: THIS FILE IS AUTO-GENERATED. DO NOT MODIFY.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">This file was generated from HelloWorld.idl using &quot;rtiddsgen&quot;.</span></div>
<div class="line"><span class="comment">The rtiddsgen tool is part of the RTI Connext distribution.</span></div>
<div class="line"><span class="comment">For more information, type &#39;rtiddsgen -help&#39; at a command shell</span></div>
<div class="line"><span class="comment">or consult the RTI Connext manual.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef HelloWorldPlugin_1436885481_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define HelloWorldPlugin_1436885481_h</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &quot;HelloWorld.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>RTICdrStream;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef pres_typePlugin_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;pres/pres_typePlugin.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#if (defined(RTI_WIN32) || defined (RTI_WINCE)) &amp;&amp; defined(NDDS_USER_DLL_EXPORT)</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">/* If the code is building on Windows, start exporting symbols.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#undef NDDSUSERDllExport</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define NDDSUSERDllExport __declspec(dllexport)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define HelloWorldPlugin_get_sample PRESTypePluginDefaultEndpointData_getSample </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define HelloWorldPlugin_get_buffer PRESTypePluginDefaultEndpointData_getBuffer </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define HelloWorldPlugin_return_buffer PRESTypePluginDefaultEndpointData_returnBuffer </span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define HelloWorldPlugin_create_sample PRESTypePluginDefaultEndpointData_createSample </span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define HelloWorldPlugin_destroy_sample PRESTypePluginDefaultEndpointData_deleteSample </span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">/* --------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Support functions:</span></div>
<div class="line"><span class="comment">* -------------------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> HelloWorld*</div>
<div class="line">HelloWorldPluginSupport_create_data_w_params(</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> DDS_TypeAllocationParams_t * alloc_params);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> HelloWorld*</div>
<div class="line">HelloWorldPluginSupport_create_data_ex(RTIBool allocate_pointers);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> HelloWorld*</div>
<div class="line">HelloWorldPluginSupport_create_data(<span class="keywordtype">void</span>);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPluginSupport_copy_data(</div>
<div class="line">    HelloWorld *out,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *in);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data_w_params(</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> DDS_TypeDeallocationParams_t * dealloc_params);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data_ex(</div>
<div class="line">    HelloWorld *sample,RTIBool deallocate_pointers);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data(</div>
<div class="line">    HelloWorld *sample);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_print_data(</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *desc,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> indent);</div>
<div class="line"></div>
<div class="line"><span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Callback functions:</span></div>
<div class="line"><span class="comment">* ---------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> PRESTypePluginParticipantData </div>
<div class="line">HelloWorldPlugin_on_participant_attached(</div>
<div class="line">    <span class="keywordtype">void</span> *registration_data, </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> PRESTypePluginParticipantInfo *participant_info,</div>
<div class="line">    RTIBool top_level_registration, </div>
<div class="line">    <span class="keywordtype">void</span> *container_plugin_context,</div>
<div class="line">    RTICdrTypeCode *typeCode);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPlugin_on_participant_detached(</div>
<div class="line">    PRESTypePluginParticipantData participant_data);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> PRESTypePluginEndpointData </div>
<div class="line">HelloWorldPlugin_on_endpoint_attached(</div>
<div class="line">    PRESTypePluginParticipantData participant_data,</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> PRESTypePluginEndpointInfo *endpoint_info,</div>
<div class="line">    RTIBool top_level_registration, </div>
<div class="line">    <span class="keywordtype">void</span> *container_plugin_context);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPlugin_on_endpoint_detached(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span>    </div>
<div class="line">HelloWorldPlugin_return_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keywordtype">void</span> *handle);    </div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_copy_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *out,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *in);</div>
<div class="line"></div>
<div class="line"><span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">(De)Serialize functions:</span></div>
<div class="line"><span class="comment">* ------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_serialize(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream, </div>
<div class="line">    RTIBool serialize_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    RTIBool serialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample, </div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool</div>
<div class="line">HelloWorldPlugin_serialize_to_cdr_buffer(</div>
<div class="line">    <span class="keywordtype">char</span> * buffer,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * length,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample); </div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld **sample, </div>
<div class="line">    RTIBool * drop_sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool</div>
<div class="line">HelloWorldPlugin_deserialize_from_cdr_buffer(</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> * buffer,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length);    </div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool</div>
<div class="line">HelloWorldPlugin_skip(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream, </div>
<div class="line">    RTIBool skip_encapsulation,  </div>
<div class="line">    RTIBool skip_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_max_size_ex(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool * overflow,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);    </div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_max_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_min_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line">HelloWorldPlugin_get_serialized_sample_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld * sample);</div>
<div class="line"></div>
<div class="line"><span class="comment">/* --------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Key Management functions:</span></div>
<div class="line"><span class="comment">* -------------------------------------------------------------------------------------- */</span></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> PRESTypePluginKeyKind </div>
<div class="line">HelloWorldPlugin_get_key_kind(<span class="keywordtype">void</span>);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_key_max_size_ex(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool * overflow,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_key_max_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_serialize_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool serialize_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    RTIBool serialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize_key_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld * sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld ** sample,</div>
<div class="line">    RTIBool * drop_sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> RTIBool</div>
<div class="line">HelloWorldPlugin_serialized_sample_to_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream, </div>
<div class="line">    RTIBool deserialize_encapsulation,  </div>
<div class="line">    RTIBool deserialize_key, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Plugin Functions */</span></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keyword">struct </span>PRESTypePlugin*</div>
<div class="line">HelloWorldPlugin_new(<span class="keywordtype">void</span>);</div>
<div class="line"></div>
<div class="line">NDDSUSERDllExport <span class="keyword">extern</span> <span class="keywordtype">void</span></div>
<div class="line">HelloWorldPlugin_delete(<span class="keyword">struct</span> PRESTypePlugin *);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if (defined(RTI_WIN32) || defined (RTI_WINCE)) &amp;&amp; defined(NDDS_USER_DLL_EXPORT)</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">/* If the code is building on Windows, stop exporting symbols.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#undef NDDSUSERDllExport</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define NDDSUSERDllExport</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* HelloWorldPlugin_1436885481_h */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"></span></div>
</div><!-- fragment --><p>[$(NDDSHOME)/example/CPP/helloWorldPersistence/HelloWorldPlugin.cxx] </p>
<div class="fragment"><div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">WARNING: THIS FILE IS AUTO-GENERATED. DO NOT MODIFY.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">This file was generated from HelloWorld.idl using &quot;rtiddsgen&quot;.</span></div>
<div class="line"><span class="comment">The rtiddsgen tool is part of the RTI Connext distribution.</span></div>
<div class="line"><span class="comment">For more information, type &#39;rtiddsgen -help&#39; at a command shell</span></div>
<div class="line"><span class="comment">or consult the RTI Connext manual.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef ndds_cpp_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;ndds/ndds_cpp.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef osapi_type_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;osapi/osapi_type.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#ifndef osapi_heap_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;osapi/osapi_heap.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef osapi_utility_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;osapi/osapi_utility.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef cdr_type_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;cdr/cdr_type.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef cdr_type_object_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;cdr/cdr_typeObject.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef cdr_encapsulation_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;cdr/cdr_encapsulation.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef cdr_stream_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;cdr/cdr_stream.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifndef pres_typePlugin_h</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &quot;pres/pres_typePlugin.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &quot;HelloWorldPlugin.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">*  Type HelloWorld</span></div>
<div class="line"><span class="comment">* -------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* -----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Support functions:</span></div>
<div class="line"><span class="comment">* -------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">HelloWorld*</div>
<div class="line">HelloWorldPluginSupport_create_data_w_params(</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> DDS_TypeAllocationParams_t * alloc_params){</div>
<div class="line">    HelloWorld *sample = NULL;</div>
<div class="line"></div>
<div class="line">    RTIOsapiHeap_allocateStructure(</div>
<div class="line">        &amp;sample, HelloWorld);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(sample != NULL) {</div>
<div class="line">        <span class="keywordflow">if</span> (!HelloWorld_initialize_w_params(sample,alloc_params)) {</div>
<div class="line">            RTIOsapiHeap_freeStructure(sample);</div>
<div class="line">            <span class="keywordflow">return</span> NULL;</div>
<div class="line">        }</div>
<div class="line">    }        </div>
<div class="line">    <span class="keywordflow">return</span> sample; </div>
<div class="line">} </div>
<div class="line"></div>
<div class="line">HelloWorld *</div>
<div class="line">HelloWorldPluginSupport_create_data_ex(RTIBool allocate_pointers){</div>
<div class="line">    HelloWorld *sample = NULL;</div>
<div class="line"></div>
<div class="line">    RTIOsapiHeap_allocateStructure(</div>
<div class="line">        &amp;sample, HelloWorld);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(sample != NULL) {</div>
<div class="line">        <span class="keywordflow">if</span> (!HelloWorld_initialize_ex(sample,allocate_pointers, RTI_TRUE)) {</div>
<div class="line">            RTIOsapiHeap_freeStructure(sample);</div>
<div class="line">            <span class="keywordflow">return</span> NULL;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> sample; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">HelloWorld *</div>
<div class="line">HelloWorldPluginSupport_create_data(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> HelloWorldPluginSupport_create_data_ex(RTI_TRUE);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data_w_params(</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> DDS_TypeDeallocationParams_t * dealloc_params) {</div>
<div class="line"></div>
<div class="line">    HelloWorld_finalize_w_params(sample,dealloc_params);</div>
<div class="line"></div>
<div class="line">    RTIOsapiHeap_freeStructure(sample);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data_ex(</div>
<div class="line">    HelloWorld *sample,RTIBool deallocate_pointers) {</div>
<div class="line"></div>
<div class="line">    HelloWorld_finalize_ex(sample,deallocate_pointers);</div>
<div class="line"></div>
<div class="line">    RTIOsapiHeap_freeStructure(sample);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_destroy_data(</div>
<div class="line">    HelloWorld *sample) {</div>
<div class="line"></div>
<div class="line">    HelloWorldPluginSupport_destroy_data_ex(sample,RTI_TRUE);</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPluginSupport_copy_data(</div>
<div class="line">    HelloWorld *dst,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *src)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> HelloWorld_copy(dst,src);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPluginSupport_print_data(</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *desc,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> indent_level)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    RTICdrType_printIndent(indent_level);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (desc != NULL) {</div>
<div class="line">        RTILog_debug(<span class="stringliteral">&quot;%s:\n&quot;</span>, desc);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        RTILog_debug(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (sample == NULL) {</div>
<div class="line">        RTILog_debug(<span class="stringliteral">&quot;NULL\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    RTICdrType_printLong(</div>
<div class="line">        &amp;sample-&gt;data, <span class="stringliteral">&quot;data&quot;</span>, indent_level + 1);    </div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Callback functions:</span></div>
<div class="line"><span class="comment">* ---------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">PRESTypePluginParticipantData </div>
<div class="line">HelloWorldPlugin_on_participant_attached(</div>
<div class="line">    <span class="keywordtype">void</span> *registration_data,</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> PRESTypePluginParticipantInfo *participant_info,</div>
<div class="line">    RTIBool top_level_registration,</div>
<div class="line">    <span class="keywordtype">void</span> *container_plugin_context,</div>
<div class="line">    RTICdrTypeCode *type_code)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (registration_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (participant_info) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (top_level_registration) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (container_plugin_context) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (type_code) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> PRESTypePluginDefaultParticipantData_new(participant_info);</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPlugin_on_participant_detached(</div>
<div class="line">    PRESTypePluginParticipantData participant_data)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    PRESTypePluginDefaultParticipantData_delete(participant_data);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">PRESTypePluginEndpointData</div>
<div class="line">HelloWorldPlugin_on_endpoint_attached(</div>
<div class="line">    PRESTypePluginParticipantData participant_data,</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct</span> PRESTypePluginEndpointInfo *endpoint_info,</div>
<div class="line">    RTIBool top_level_registration, </div>
<div class="line">    <span class="keywordtype">void</span> *containerPluginContext)</div>
<div class="line">{</div>
<div class="line">    PRESTypePluginEndpointData epd = NULL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> serializedSampleMaxSize;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (top_level_registration) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (containerPluginContext) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    epd = PRESTypePluginDefaultEndpointData_new(</div>
<div class="line">        participant_data,</div>
<div class="line">        endpoint_info,</div>
<div class="line">        (PRESTypePluginDefaultEndpointDataCreateSampleFunction)</div>
<div class="line">        HelloWorldPluginSupport_create_data,</div>
<div class="line">        (PRESTypePluginDefaultEndpointDataDestroySampleFunction)</div>
<div class="line">        HelloWorldPluginSupport_destroy_data,</div>
<div class="line">        NULL , NULL );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (epd == NULL) {</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    } </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_info-&gt;endpointKind == PRES_TYPEPLUGIN_ENDPOINT_WRITER) {</div>
<div class="line">        serializedSampleMaxSize = HelloWorldPlugin_get_serialized_sample_max_size(</div>
<div class="line">            epd,RTI_FALSE,RTI_CDR_ENCAPSULATION_ID_CDR_BE,0);</div>
<div class="line"></div>
<div class="line">        PRESTypePluginDefaultEndpointData_setMaxSizeSerializedSample(epd, serializedSampleMaxSize);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (PRESTypePluginDefaultEndpointData_createWriterPool(</div>
<div class="line">            epd,</div>
<div class="line">            endpoint_info,</div>
<div class="line">            (PRESTypePluginGetSerializedSampleMaxSizeFunction)</div>
<div class="line">            HelloWorldPlugin_get_serialized_sample_max_size, epd,</div>
<div class="line">            (PRESTypePluginGetSerializedSampleSizeFunction)</div>
<div class="line">            HelloWorldPlugin_get_serialized_sample_size,</div>
<div class="line">            epd) == RTI_FALSE) {</div>
<div class="line">            PRESTypePluginDefaultEndpointData_delete(epd);</div>
<div class="line">            <span class="keywordflow">return</span> NULL;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> epd;    </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> </div>
<div class="line">HelloWorldPlugin_on_endpoint_detached(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data)</div>
<div class="line">{  </div>
<div class="line"></div>
<div class="line">    PRESTypePluginDefaultEndpointData_delete(endpoint_data);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>    </div>
<div class="line">HelloWorldPlugin_return_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keywordtype">void</span> *handle)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    HelloWorld_finalize_optional_members(sample, RTI_TRUE);</div>
<div class="line"></div>
<div class="line">    PRESTypePluginDefaultEndpointData_returnSample(</div>
<div class="line">        endpoint_data, sample, handle);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_copy_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *dst,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *src)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">return</span> HelloWorldPluginSupport_copy_data(dst,src);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* ----------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">(De)Serialize functions:</span></div>
<div class="line"><span class="comment">* ------------------------------------------------------------------------- */</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_max_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment);</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_serialize(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample, </div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,    </div>
<div class="line">    RTIBool serialize_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    RTIBool serialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line">    RTIBool retval = RTI_TRUE;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_plugin_qos) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_encapsulation) {</div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_serializeAndSetCdrEncapsulation(stream , encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_sample) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_serializeLong(</div>
<div class="line">            stream, &amp;sample-&gt;data)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> retval;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,   </div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line"></div>
<div class="line">    RTIBool done = RTI_FALSE;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_plugin_qos) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_deserializeAndSetCdrEncapsulation(stream)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_sample) {</div>
<div class="line"></div>
<div class="line">        HelloWorld_initialize_ex(sample, RTI_FALSE, RTI_FALSE);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_deserializeLong(</div>
<div class="line">            stream, &amp;sample-&gt;data)) {</div>
<div class="line">            <span class="keywordflow">goto</span> fin; </div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    done = RTI_TRUE;</div>
<div class="line">  fin:</div>
<div class="line">    <span class="keywordflow">if</span> (done != RTI_TRUE &amp;&amp; </div>
<div class="line">    RTICdrStream_getRemainder(stream) &gt;=</div>
<div class="line">    RTI_CDR_PARAMETER_HEADER_ALIGNMENT) {</div>
<div class="line">        <span class="keywordflow">return</span> RTI_FALSE;   </div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool</div>
<div class="line">HelloWorldPlugin_serialize_to_cdr_buffer(</div>
<div class="line">    <span class="keywordtype">char</span> * buffer,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> * length,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>RTICdrStream stream;</div>
<div class="line">    <span class="keyword">struct </span>PRESTypePluginDefaultEndpointData epd;</div>
<div class="line">    RTIBool result;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (length == NULL) {</div>
<div class="line">        <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    epd._maxSizeSerializedSample =</div>
<div class="line">    HelloWorldPlugin_get_serialized_sample_max_size(</div>
<div class="line">        NULL, RTI_TRUE, RTI_CDR_ENCAPSULATION_ID_CDR_NATIVE, 0);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (buffer == NULL) {</div>
<div class="line">        *length = </div>
<div class="line">        HelloWorldPlugin_get_serialized_sample_size(</div>
<div class="line">            (PRESTypePluginEndpointData)&amp;epd,</div>
<div class="line">            RTI_TRUE,</div>
<div class="line">            RTI_CDR_ENCAPSULATION_ID_CDR_NATIVE,</div>
<div class="line">            0,</div>
<div class="line">            sample);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (*length == 0) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">    }    </div>
<div class="line"></div>
<div class="line">    RTICdrStream_init(&amp;stream);</div>
<div class="line">    RTICdrStream_set(&amp;stream, (<span class="keywordtype">char</span> *)buffer, *length);</div>
<div class="line"></div>
<div class="line">    result = HelloWorldPlugin_serialize(</div>
<div class="line">        (PRESTypePluginEndpointData)&amp;epd, sample, &amp;stream, </div>
<div class="line">        RTI_TRUE, RTI_CDR_ENCAPSULATION_ID_CDR_NATIVE, </div>
<div class="line">        RTI_TRUE, NULL);  </div>
<div class="line"></div>
<div class="line">    *length = RTICdrStream_getCurrentPositionOffset(&amp;stream);</div>
<div class="line">    <span class="keywordflow">return</span> result;     </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool</div>
<div class="line">HelloWorldPlugin_deserialize_from_cdr_buffer(</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> * buffer,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> length)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>RTICdrStream stream;</div>
<div class="line"></div>
<div class="line">    RTICdrStream_init(&amp;stream);</div>
<div class="line">    RTICdrStream_set(&amp;stream, (<span class="keywordtype">char</span> *)buffer, length);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> HelloWorldPlugin_deserialize_sample( </div>
<div class="line">        NULL, sample,</div>
<div class="line">        &amp;stream, RTI_TRUE, RTI_TRUE, </div>
<div class="line">        NULL);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_deserialize(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld **sample,</div>
<div class="line">    RTIBool * drop_sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,   </div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    RTIBool result;</div>
<div class="line">    <span class="keywordflow">if</span> (drop_sample) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    stream-&gt;_xTypesState.unassignable = RTI_FALSE;</div>
<div class="line">    result= HelloWorldPlugin_deserialize_sample( </div>
<div class="line">        endpoint_data, (sample != NULL)?*sample:NULL,</div>
<div class="line">        stream, deserialize_encapsulation, deserialize_sample, </div>
<div class="line">        endpoint_plugin_qos);</div>
<div class="line">    <span class="keywordflow">if</span> (result) {</div>
<div class="line">        <span class="keywordflow">if</span> (stream-&gt;_xTypesState.unassignable) {</div>
<div class="line">            result = RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool HelloWorldPlugin_skip(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,   </div>
<div class="line">    RTIBool skip_encapsulation,</div>
<div class="line">    RTIBool skip_sample, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line"></div>
<div class="line">    RTIBool done = RTI_FALSE;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_plugin_qos) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(skip_encapsulation) {</div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_skipEncapsulation(stream)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (skip_sample) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_skipLong (stream)) {</div>
<div class="line">            <span class="keywordflow">goto</span> fin; </div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    done = RTI_TRUE;</div>
<div class="line">  fin:</div>
<div class="line">    <span class="keywordflow">if</span> (done != RTI_TRUE &amp;&amp; </div>
<div class="line">    RTICdrStream_getRemainder(stream) &gt;=</div>
<div class="line">    RTI_CDR_PARAMETER_HEADER_ALIGNMENT) {</div>
<div class="line">        <span class="keywordflow">return</span> RTI_FALSE;   </div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(skip_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_max_size_ex(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool * overflow,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_alignment = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> encapsulation_size = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span> </div>
<div class="line">    <span class="keywordflow">if</span> (overflow) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrEncapsulation_validEncapsulationId(encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line">        RTICdrStream_getEncapsulationSize(encapsulation_size);</div>
<div class="line">        encapsulation_size -= current_alignment;</div>
<div class="line">        current_alignment = 0;</div>
<div class="line">        initial_alignment = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    current_alignment +=RTICdrType_getLongMaxSizeSerialized(</div>
<div class="line">        current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">        current_alignment += encapsulation_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>  current_alignment - initial_alignment;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_max_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size;</div>
<div class="line">    RTIBool overflow = RTI_FALSE;</div>
<div class="line"></div>
<div class="line">    size = HelloWorldPlugin_get_serialized_sample_max_size_ex(</div>
<div class="line">        endpoint_data,&amp;overflow,include_encapsulation,encapsulation_id,current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (overflow) {</div>
<div class="line">        size = RTI_CDR_MAX_SERIALIZED_SIZE;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> size;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> </div>
<div class="line">HelloWorldPlugin_get_serialized_sample_min_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_alignment = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> encapsulation_size = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span> </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrEncapsulation_validEncapsulationId(encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line">        RTICdrStream_getEncapsulationSize(encapsulation_size);</div>
<div class="line">        encapsulation_size -= current_alignment;</div>
<div class="line">        current_alignment = 0;</div>
<div class="line">        initial_alignment = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    current_alignment +=RTICdrType_getLongMaxSizeSerialized(</div>
<div class="line">        current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">        current_alignment += encapsulation_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>  current_alignment - initial_alignment;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* Returns the size of the sample in its serialized form (in bytes).</span></div>
<div class="line"><span class="comment">* It can also be an estimation in excess of the real buffer needed </span></div>
<div class="line"><span class="comment">* during a call to the serialize() function.</span></div>
<div class="line"><span class="comment">* The value reported does not have to include the space for the</span></div>
<div class="line"><span class="comment">* encapsulation flags.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line">HelloWorldPlugin_get_serialized_sample_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld * sample) </div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_alignment = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> encapsulation_size = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span> </div>
<div class="line">    <span class="keywordflow">if</span> (sample==NULL) {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrEncapsulation_validEncapsulationId(encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line">        RTICdrStream_getEncapsulationSize(encapsulation_size);</div>
<div class="line">        encapsulation_size -= current_alignment;</div>
<div class="line">        current_alignment = 0;</div>
<div class="line">        initial_alignment = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    current_alignment += RTICdrType_getLongMaxSizeSerialized(</div>
<div class="line">        current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">        current_alignment += encapsulation_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> current_alignment - initial_alignment;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* --------------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">Key Management functions:</span></div>
<div class="line"><span class="comment">* -------------------------------------------------------------------------------------- */</span></div>
<div class="line"></div>
<div class="line">PRESTypePluginKeyKind </div>
<div class="line">HelloWorldPlugin_get_key_kind(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> PRES_TYPEPLUGIN_NO_KEY;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_serialize_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    <span class="keyword">const</span> HelloWorld *sample, </div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,    </div>
<div class="line">    RTIBool serialize_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    RTIBool serialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_encapsulation) {</div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_serializeAndSetCdrEncapsulation(stream , encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_key) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!HelloWorldPlugin_serialize(</div>
<div class="line">            endpoint_data,</div>
<div class="line">            sample,</div>
<div class="line">            stream,</div>
<div class="line">            RTI_FALSE, encapsulation_id,</div>
<div class="line">            RTI_TRUE,</div>
<div class="line">            endpoint_plugin_qos)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(serialize_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool HelloWorldPlugin_deserialize_key_sample(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample, </div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_plugin_qos) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_deserializeAndSetCdrEncapsulation(stream)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (deserialize_key) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!HelloWorldPlugin_deserialize_sample(</div>
<div class="line">            endpoint_data, sample, stream, </div>
<div class="line">            RTI_FALSE, RTI_TRUE, </div>
<div class="line">            endpoint_plugin_qos)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool HelloWorldPlugin_deserialize_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld **sample, </div>
<div class="line">    RTIBool * drop_sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream,</div>
<div class="line">    RTIBool deserialize_encapsulation,</div>
<div class="line">    RTIBool deserialize_key,</div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    RTIBool result;</div>
<div class="line">    <span class="keywordflow">if</span> (drop_sample) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    stream-&gt;_xTypesState.unassignable = RTI_FALSE;</div>
<div class="line">    result= HelloWorldPlugin_deserialize_key_sample(</div>
<div class="line">        endpoint_data, (sample != NULL)?*sample:NULL, stream,</div>
<div class="line">        deserialize_encapsulation, deserialize_key, endpoint_plugin_qos);</div>
<div class="line">    <span class="keywordflow">if</span> (result) {</div>
<div class="line">        <span class="keywordflow">if</span> (stream-&gt;_xTypesState.unassignable) {</div>
<div class="line">            result = RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;    </div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line">HelloWorldPlugin_get_serialized_key_max_size_ex(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool * overflow,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> initial_alignment = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> encapsulation_size = current_alignment;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (endpoint_data) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line">    <span class="keywordflow">if</span> (overflow) {} <span class="comment">/* To avoid warnings */</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrEncapsulation_validEncapsulationId(encapsulation_id)) {</div>
<div class="line">            <span class="keywordflow">return</span> 1;</div>
<div class="line">        }</div>
<div class="line">        RTICdrStream_getEncapsulationSize(encapsulation_size);</div>
<div class="line">        encapsulation_size -= current_alignment;</div>
<div class="line">        current_alignment = 0;</div>
<div class="line">        initial_alignment = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    current_alignment += HelloWorldPlugin_get_serialized_sample_max_size_ex(</div>
<div class="line">        endpoint_data, overflow,RTI_FALSE, encapsulation_id, current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">        current_alignment += encapsulation_size;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> current_alignment - initial_alignment;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span></div>
<div class="line">HelloWorldPlugin_get_serialized_key_max_size(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    RTIBool include_encapsulation,</div>
<div class="line">    RTIEncapsulationId encapsulation_id,</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_alignment)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size;</div>
<div class="line">    RTIBool overflow = RTI_FALSE;</div>
<div class="line"></div>
<div class="line">    size = HelloWorldPlugin_get_serialized_key_max_size_ex(</div>
<div class="line">        endpoint_data,&amp;overflow,include_encapsulation,encapsulation_id,current_alignment);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (overflow) {</div>
<div class="line">        size = RTI_CDR_MAX_SERIALIZED_SIZE;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> size;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">RTIBool </div>
<div class="line">HelloWorldPlugin_serialized_sample_to_key(</div>
<div class="line">    PRESTypePluginEndpointData endpoint_data,</div>
<div class="line">    HelloWorld *sample,</div>
<div class="line">    <span class="keyword">struct</span> RTICdrStream *stream, </div>
<div class="line">    RTIBool deserialize_encapsulation,  </div>
<div class="line">    RTIBool deserialize_key, </div>
<div class="line">    <span class="keywordtype">void</span> *endpoint_plugin_qos)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> * position = NULL;</div>
<div class="line"></div>
<div class="line">    RTIBool done = RTI_FALSE;</div>
<div class="line">    RTIBool error = RTI_FALSE;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (stream == NULL) {</div>
<div class="line">        error = RTI_TRUE;</div>
<div class="line">        <span class="keywordflow">goto</span> fin;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">        <span class="keywordflow">if</span> (!RTICdrStream_deserializeAndSetCdrEncapsulation(stream)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line">        position = RTICdrStream_resetAlignment(stream);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (deserialize_key) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!HelloWorldPlugin_deserialize_sample(</div>
<div class="line">            endpoint_data, sample, stream, RTI_FALSE, </div>
<div class="line">            RTI_TRUE, endpoint_plugin_qos)) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    done = RTI_TRUE;</div>
<div class="line">  fin:</div>
<div class="line">    <span class="keywordflow">if</span>(!error) {</div>
<div class="line">        <span class="keywordflow">if</span> (done != RTI_TRUE &amp;&amp; </div>
<div class="line">        RTICdrStream_getRemainder(stream) &gt;=</div>
<div class="line">        RTI_CDR_PARAMETER_HEADER_ALIGNMENT) {</div>
<div class="line">            <span class="keywordflow">return</span> RTI_FALSE;   </div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">return</span> error;</div>
<div class="line">    }       </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">        RTICdrStream_restoreAlignment(stream,position);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> RTI_TRUE;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/* ------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment">* Plug-in Installation Methods</span></div>
<div class="line"><span class="comment">* ------------------------------------------------------------------------ */</span></div>
<div class="line"><span class="keyword">struct </span>PRESTypePlugin *HelloWorldPlugin_new(<span class="keywordtype">void</span>) </div>
<div class="line">{ </div>
<div class="line">    <span class="keyword">struct </span>PRESTypePlugin *plugin = NULL;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span>PRESTypePluginVersion PLUGIN_VERSION = </div>
<div class="line">    PRES_TYPE_PLUGIN_VERSION_2_0;</div>
<div class="line"></div>
<div class="line">    RTIOsapiHeap_allocateStructure(</div>
<div class="line">        &amp;plugin, <span class="keyword">struct</span> PRESTypePlugin);</div>
<div class="line">    <span class="keywordflow">if</span> (plugin == NULL) {</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    plugin-&gt;version = PLUGIN_VERSION;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* set up parent&#39;s function pointers */</span></div>
<div class="line">    plugin-&gt;onParticipantAttached =</div>
<div class="line">    (PRESTypePluginOnParticipantAttachedCallback)</div>
<div class="line">    HelloWorldPlugin_on_participant_attached;</div>
<div class="line">    plugin-&gt;onParticipantDetached =</div>
<div class="line">    (PRESTypePluginOnParticipantDetachedCallback)</div>
<div class="line">    HelloWorldPlugin_on_participant_detached;</div>
<div class="line">    plugin-&gt;onEndpointAttached =</div>
<div class="line">    (PRESTypePluginOnEndpointAttachedCallback)</div>
<div class="line">    HelloWorldPlugin_on_endpoint_attached;</div>
<div class="line">    plugin-&gt;onEndpointDetached =</div>
<div class="line">    (PRESTypePluginOnEndpointDetachedCallback)</div>
<div class="line">    HelloWorldPlugin_on_endpoint_detached;</div>
<div class="line"></div>
<div class="line">    plugin-&gt;copySampleFnc =</div>
<div class="line">    (PRESTypePluginCopySampleFunction)</div>
<div class="line">    HelloWorldPlugin_copy_sample;</div>
<div class="line">    plugin-&gt;createSampleFnc =</div>
<div class="line">    (PRESTypePluginCreateSampleFunction)</div>
<div class="line">    HelloWorldPlugin_create_sample;</div>
<div class="line">    plugin-&gt;destroySampleFnc =</div>
<div class="line">    (PRESTypePluginDestroySampleFunction)</div>
<div class="line">    HelloWorldPlugin_destroy_sample;</div>
<div class="line"></div>
<div class="line">    plugin-&gt;serializeFnc =</div>
<div class="line">    (PRESTypePluginSerializeFunction)</div>
<div class="line">    HelloWorldPlugin_serialize;</div>
<div class="line">    plugin-&gt;deserializeFnc =</div>
<div class="line">    (PRESTypePluginDeserializeFunction)</div>
<div class="line">    HelloWorldPlugin_deserialize;</div>
<div class="line">    plugin-&gt;getSerializedSampleMaxSizeFnc =</div>
<div class="line">    (PRESTypePluginGetSerializedSampleMaxSizeFunction)</div>
<div class="line">    HelloWorldPlugin_get_serialized_sample_max_size;</div>
<div class="line">    plugin-&gt;getSerializedSampleMinSizeFnc =</div>
<div class="line">    (PRESTypePluginGetSerializedSampleMinSizeFunction)</div>
<div class="line">    HelloWorldPlugin_get_serialized_sample_min_size;</div>
<div class="line"></div>
<div class="line">    plugin-&gt;getSampleFnc =</div>
<div class="line">    (PRESTypePluginGetSampleFunction)</div>
<div class="line">    HelloWorldPlugin_get_sample;</div>
<div class="line">    plugin-&gt;returnSampleFnc =</div>
<div class="line">    (PRESTypePluginReturnSampleFunction)</div>
<div class="line">    HelloWorldPlugin_return_sample;</div>
<div class="line"></div>
<div class="line">    plugin-&gt;getKeyKindFnc =</div>
<div class="line">    (PRESTypePluginGetKeyKindFunction)</div>
<div class="line">    HelloWorldPlugin_get_key_kind;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* These functions are only used for keyed types. As this is not a keyed</span></div>
<div class="line"><span class="comment">    type they are all set to NULL</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    plugin-&gt;serializeKeyFnc = NULL ;    </div>
<div class="line">    plugin-&gt;deserializeKeyFnc = NULL;  </div>
<div class="line">    plugin-&gt;getKeyFnc = NULL;</div>
<div class="line">    plugin-&gt;returnKeyFnc = NULL;</div>
<div class="line">    plugin-&gt;instanceToKeyFnc = NULL;</div>
<div class="line">    plugin-&gt;keyToInstanceFnc = NULL;</div>
<div class="line">    plugin-&gt;getSerializedKeyMaxSizeFnc = NULL;</div>
<div class="line">    plugin-&gt;instanceToKeyHashFnc = NULL;</div>
<div class="line">    plugin-&gt;serializedSampleToKeyHashFnc = NULL;</div>
<div class="line">    plugin-&gt;serializedKeyToKeyHashFnc = NULL;    </div>
<div class="line">    plugin-&gt;typeCode =  (<span class="keyword">struct </span>RTICdrTypeCode *)HelloWorld_get_typecode();</div>
<div class="line"></div>
<div class="line">    plugin-&gt;languageKind = PRES_TYPEPLUGIN_CPP_LANG;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Serialized buffer */</span></div>
<div class="line">    plugin-&gt;getBuffer = </div>
<div class="line">    (PRESTypePluginGetBufferFunction)</div>
<div class="line">    HelloWorldPlugin_get_buffer;</div>
<div class="line">    plugin-&gt;returnBuffer = </div>
<div class="line">    (PRESTypePluginReturnBufferFunction)</div>
<div class="line">    HelloWorldPlugin_return_buffer;</div>
<div class="line">    plugin-&gt;getSerializedSampleSizeFnc =</div>
<div class="line">    (PRESTypePluginGetSerializedSampleSizeFunction)</div>
<div class="line">    HelloWorldPlugin_get_serialized_sample_size;</div>
<div class="line"></div>
<div class="line">    plugin-&gt;endpointTypeName = HelloWorldTYPENAME;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> plugin;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">HelloWorldPlugin_delete(<span class="keyword">struct</span> PRESTypePlugin *plugin)</div>
<div class="line">{</div>
<div class="line">    RTIOsapiHeap_freeStructure(plugin);</div>
<div class="line">} </div>
<div class="line"></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Persistence Service Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
