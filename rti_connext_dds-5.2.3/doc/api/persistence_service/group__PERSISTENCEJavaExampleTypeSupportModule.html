<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Persistence Service: HelloWorldTypeSupport.java</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Persistence Service
   &#160;<span id="projectnumber">Version 5.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__PERSISTENCEJavaExampleTypeSupportModule.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HelloWorldTypeSupport.java</div>  </div>
<div class="ingroups"><a class="el" href="group__PERSISTENCEJavaExampleModule.html">Java Example</a></div></div><!--header-->
<div class="contents">
<p>[$(NDDSHOME)/example/JAVA/helloWorldPersistence/HelloWorldTypeSupport.java] </p>
<div class="fragment"><div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">WARNING: THIS FILE IS AUTO-GENERATED. DO NOT MODIFY.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">This file was generated from .idl using &quot;rtiddsgen&quot;.</span></div>
<div class="line"><span class="comment">The rtiddsgen tool is part of the RTI Connext distribution.</span></div>
<div class="line"><span class="comment">For more information, type &#39;rtiddsgen -help&#39; at a command shell</span></div>
<div class="line"><span class="comment">or consult the RTI Connext manual.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrEncapsulation;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrInputStream;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrOutputStream;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrPrimitiveType;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrBuffer;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrHelper;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.CdrMemberInfo;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.domain.DomainParticipant;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.publication.DataWriter;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.publication.DataWriterListener;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.subscription.DataReader;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.subscription.DataReaderListener;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.KeyHash_t;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.TypeSupportImpl;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.TypeSupportType;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.util.Sequence;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.DefaultEndpointData;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.infrastructure.RETCODE_ERROR;</div>
<div class="line"></div>
<div class="line"><span class="keyword">import</span> com.rti.dds.infrastructure.*;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.TypeSupportParticipantInfo;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.topic.TypeSupportEndpointInfo;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.typecode.TypeCode;</div>
<div class="line"><span class="keyword">import</span> com.rti.dds.cdr.IllegalCdrStateException;</div>
<div class="line"></div>
<div class="line"><span class="keyword">import</span> com.rti.dds.infrastructure.Copyable;</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>HelloWorldTypeSupport <span class="keyword">extends</span> TypeSupportImpl {</div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Private Fields</span></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TYPE_NAME = <span class="stringliteral">&quot;HelloWorld&quot;</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">char</span>[] PLUGIN_VERSION = {2, 0, 0, 0};     </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> HelloWorldTypeSupport _singleton</div>
<div class="line">    = <span class="keyword">new</span> HelloWorldTypeSupport();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Public Methods</span></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// --- External methods: -------------------------------------------------</span></div>
<div class="line">    <span class="comment">/* The methods in this section are for use by users of RTI Connext</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String get_type_name() {</div>
<div class="line">        <span class="keywordflow">return</span> _singleton.get_type_nameI();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> register_type(DomainParticipant participant,</div>
<div class="line">    String type_name) {</div>
<div class="line">        _singleton.register_typeI(participant, type_name);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> unregister_type(DomainParticipant participant,</div>
<div class="line">    String type_name) {</div>
<div class="line">        _singleton.unregister_typeI(participant, type_name);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* The methods in this section are for use by RTI Connext</span></div>
<div class="line"><span class="comment">    * itself and by the code generated by rtiddsgen for other types.</span></div>
<div class="line"><span class="comment">    * They should be used directly or modified only by advanced users and are</span></div>
<div class="line"><span class="comment">    * subject to change in future versions of RTI Connext.</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> HelloWorldTypeSupport get_instance() {</div>
<div class="line">        <span class="keywordflow">return</span> _singleton;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> HelloWorldTypeSupport getInstance() {</div>
<div class="line">        <span class="keywordflow">return</span> get_instance();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> TypeCode getTypeCode(){</div>
<div class="line">        <span class="keywordflow">return</span> HelloWorldTypeCode.VALUE;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object create_data() {</div>
<div class="line">        <span class="keywordflow">return</span> HelloWorld.create();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> destroy_data(Object data) {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">public</span> Object create_key() {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> HelloWorld();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> destroy_key(Object key) {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">public</span> Class get_type() {</div>
<div class="line">        <span class="keywordflow">return</span> HelloWorld.class;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object copy_data(Object destination, Object source) {</div>
<div class="line"></div>
<div class="line">        HelloWorld typedDst = (HelloWorld) destination;</div>
<div class="line">        HelloWorld typedSrc = (HelloWorld) source;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> typedDst.copy_from(typedSrc);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">long</span> get_serialized_sample_max_size(Object endpoint_data,<span class="keywordtype">boolean</span> include_encapsulation,<span class="keywordtype">short</span> encapsulation_id,<span class="keywordtype">long</span> currentAlignment) {</div>
<div class="line">        <span class="keywordtype">long</span> origAlignment = currentAlignment;</div>
<div class="line">        <span class="keywordtype">long</span> encapsulation_size = currentAlignment;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(include_encapsulation) {</div>
<div class="line">            <span class="keywordflow">if</span> (!CdrEncapsulation.isValidEncapsulationKind(encapsulation_id)) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(<span class="stringliteral">&quot;Unsupported encapsulation&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size -= currentAlignment;</div>
<div class="line">            currentAlignment = 0;</div>
<div class="line">            origAlignment = 0;</div>
<div class="line"></div>
<div class="line">        } </div>
<div class="line"></div>
<div class="line">        currentAlignment += CdrPrimitiveType.INT.getMaxSizeSerialized(currentAlignment );</div>
<div class="line">        <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">            currentAlignment += encapsulation_size;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span>  currentAlignment - origAlignment;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">long</span> get_serialized_sample_min_size(Object endpoint_data,<span class="keywordtype">boolean</span> include_encapsulation,<span class="keywordtype">short</span> encapsulation_id,<span class="keywordtype">long</span> currentAlignment) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">long</span> origAlignment = currentAlignment;</div>
<div class="line">        <span class="keywordtype">long</span> encapsulation_size = currentAlignment;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(include_encapsulation) {</div>
<div class="line">            <span class="keywordflow">if</span> (!CdrEncapsulation.isValidEncapsulationKind(encapsulation_id)) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(<span class="stringliteral">&quot;Unsupported encapsulation&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size -= currentAlignment;</div>
<div class="line">            currentAlignment = 0;</div>
<div class="line">            origAlignment = 0;</div>
<div class="line"></div>
<div class="line">        } </div>
<div class="line"></div>
<div class="line">        currentAlignment += CdrPrimitiveType.INT.getMaxSizeSerialized(currentAlignment );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">            currentAlignment += encapsulation_size;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span>  currentAlignment - origAlignment;</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">long</span> get_serialized_sample_size(</div>
<div class="line">        Object endpoint_data, <span class="keywordtype">boolean</span> include_encapsulation, </div>
<div class="line">        <span class="keywordtype">short</span> encapsulation_id, <span class="keywordtype">long</span> currentAlignment,</div>
<div class="line">        Object sample) </div>
<div class="line">    {</div>
<div class="line">        HelloWorld typedSrc = (HelloWorld) sample;</div>
<div class="line">        <span class="keywordtype">long</span> origAlignment = currentAlignment;</div>
<div class="line">        <span class="keywordtype">long</span> encapsulation_size = currentAlignment;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(include_encapsulation) {</div>
<div class="line">            <span class="keywordflow">if</span> (!CdrEncapsulation.isValidEncapsulationKind(encapsulation_id)) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(<span class="stringliteral">&quot;Unsupported encapsulation&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size -= currentAlignment;</div>
<div class="line">            currentAlignment = 0;</div>
<div class="line">            origAlignment = 0;</div>
<div class="line"></div>
<div class="line">        } </div>
<div class="line"></div>
<div class="line">        currentAlignment  +=  CdrPrimitiveType.INT.getMaxSizeSerialized(currentAlignment);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">            currentAlignment += encapsulation_size;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> currentAlignment - origAlignment;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">long</span> get_serialized_key_max_size(</div>
<div class="line">        Object endpoint_data,</div>
<div class="line">        <span class="keywordtype">boolean</span> include_encapsulation, </div>
<div class="line">        <span class="keywordtype">short</span> encapsulation_id,</div>
<div class="line">        <span class="keywordtype">long</span> currentAlignment) </div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">long</span> origAlignment = currentAlignment;</div>
<div class="line">        <span class="keywordtype">long</span> encapsulation_size = currentAlignment;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(include_encapsulation) {</div>
<div class="line">            <span class="keywordflow">if</span> (!CdrEncapsulation.isValidEncapsulationKind(encapsulation_id)) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(<span class="stringliteral">&quot;Unsupported encapsulation&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size += CdrPrimitiveType.SHORT.getMaxSizeSerialized(encapsulation_size);</div>
<div class="line">            encapsulation_size -= currentAlignment;</div>
<div class="line">            currentAlignment = 0;</div>
<div class="line">            origAlignment = 0;</div>
<div class="line"></div>
<div class="line">        } </div>
<div class="line"></div>
<div class="line">        currentAlignment += get_serialized_sample_max_size(</div>
<div class="line">            endpoint_data,<span class="keyword">false</span>,encapsulation_id,currentAlignment);</div>
<div class="line">        <span class="keywordflow">if</span> (include_encapsulation) {</div>
<div class="line">            currentAlignment += encapsulation_size;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> currentAlignment - origAlignment;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> serialize(Object endpoint_data,Object src, CdrOutputStream dst,<span class="keywordtype">boolean</span> serialize_encapsulation,</div>
<div class="line">    <span class="keywordtype">short</span> encapsulation_id, <span class="keywordtype">boolean</span> serialize_sample, Object endpoint_plugin_qos) {</div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(serialize_encapsulation) {</div>
<div class="line">            dst.serializeAndSetCdrEncapsulation(encapsulation_id);</div>
<div class="line"></div>
<div class="line">            position = dst.resetAlignment();</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(serialize_sample) {</div>
<div class="line"></div>
<div class="line">            HelloWorld typedSrc = (HelloWorld) src;</div>
<div class="line"></div>
<div class="line">            dst.writeInt(typedSrc.data);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (serialize_encapsulation) {</div>
<div class="line">            dst.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">long</span> serialize_to_cdr_buffer(</div>
<div class="line">        byte[] buffer,</div>
<div class="line">        <span class="keywordtype">long</span> length,</div>
<div class="line">        HelloWorld src)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> super.serialize_to_cdr_buffer(buffer,length,src);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> serialize_key(</div>
<div class="line">        Object endpoint_data,</div>
<div class="line">        Object src,</div>
<div class="line">        CdrOutputStream dst,</div>
<div class="line">        <span class="keywordtype">boolean</span> serialize_encapsulation,</div>
<div class="line">        <span class="keywordtype">short</span> encapsulation_id,</div>
<div class="line">        <span class="keywordtype">boolean</span> serialize_key,</div>
<div class="line">        Object endpoint_plugin_qos) </div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (serialize_encapsulation) {</div>
<div class="line">            dst.serializeAndSetCdrEncapsulation(encapsulation_id);</div>
<div class="line"></div>
<div class="line">            position = dst.resetAlignment();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (serialize_key) {</div>
<div class="line"></div>
<div class="line">            HelloWorld typedSrc = (HelloWorld) src;    </div>
<div class="line">            serialize(endpoint_data, src, dst, <span class="keyword">false</span>, CdrEncapsulation.CDR_ENCAPSULATION_ID_CDR_BE, <span class="keyword">true</span>, endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (serialize_encapsulation) {</div>
<div class="line">            dst.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object deserialize_sample(</div>
<div class="line">        Object endpoint_data,</div>
<div class="line">        Object dst, </div>
<div class="line">        CdrInputStream src, <span class="keywordtype">boolean</span> deserialize_encapsulation,</div>
<div class="line">        <span class="keywordtype">boolean</span> deserialize_sample,</div>
<div class="line">        Object endpoint_plugin_qos) </div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">            src.deserializeAndSetCdrEncapsulation();</div>
<div class="line"></div>
<div class="line">            position = src.resetAlignment();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(deserialize_sample) {</div>
<div class="line"></div>
<div class="line">            HelloWorld typedDst = (HelloWorld) dst;</div>
<div class="line">            typedDst.clear();      </div>
<div class="line">            <span class="keywordflow">try</span>{</div>
<div class="line">                typedDst.data = src.readInt();</div>
<div class="line">            } <span class="keywordflow">catch</span> (IllegalCdrStateException stateEx) {</div>
<div class="line">                <span class="keywordflow">if</span> (src.available() &gt;= CdrEncapsulation.CDR_ENCAPSULATION_PARAMETER_ID_ALIGNMENT) {</div>
<div class="line">                    <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(<span class="stringliteral">&quot;Error deserializing sample! Remainder: &quot;</span> + src.available() + <span class="stringliteral">&quot;\n&quot;</span> +</div>
<div class="line">                    <span class="stringliteral">&quot;Exception caused by: &quot;</span> + stateEx.getMessage());</div>
<div class="line">                }</div>
<div class="line">            } <span class="keywordflow">catch</span> (Exception ex) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> RETCODE_ERROR(ex.getMessage());        </div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (deserialize_encapsulation) {</div>
<div class="line">            src.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> dst;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> deserialize_from_cdr_buffer(</div>
<div class="line">        HelloWorld dst,</div>
<div class="line">        byte[] buffer,</div>
<div class="line">        <span class="keywordtype">long</span> length) </div>
<div class="line">    {</div>
<div class="line">        super.deserialize_from_cdr_buffer(dst,buffer,length);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object deserialize_key_sample(</div>
<div class="line">        Object endpoint_data,</div>
<div class="line">        Object dst,</div>
<div class="line">        CdrInputStream src,</div>
<div class="line">        <span class="keywordtype">boolean</span> deserialize_encapsulation,</div>
<div class="line">        <span class="keywordtype">boolean</span> deserialize_key,</div>
<div class="line">        Object endpoint_plugin_qos) </div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">            src.deserializeAndSetCdrEncapsulation();</div>
<div class="line"></div>
<div class="line">            position = src.resetAlignment();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(deserialize_key) {</div>
<div class="line"></div>
<div class="line">            HelloWorld typedDst = (HelloWorld) dst;</div>
<div class="line"></div>
<div class="line">            deserialize_sample(endpoint_data, dst, src, <span class="keyword">false</span>, <span class="keyword">true</span>, endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (deserialize_encapsulation) {</div>
<div class="line">            src.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> dst;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> skip(Object endpoint_data, </div>
<div class="line">    CdrInputStream src,</div>
<div class="line">    <span class="keywordtype">boolean</span> skip_encapsulation, </div>
<div class="line">    <span class="keywordtype">boolean</span> skip_sample, </div>
<div class="line">    Object endpoint_plugin_qos)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (skip_encapsulation) {</div>
<div class="line">            src.skipEncapsulation();</div>
<div class="line"></div>
<div class="line">            position = src.resetAlignment();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (skip_sample) {</div>
<div class="line"></div>
<div class="line">            src.skipInt();</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (skip_encapsulation) {</div>
<div class="line">            src.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object serialized_sample_to_key(</div>
<div class="line">        Object endpoint_data,</div>
<div class="line">        Object sample,</div>
<div class="line">        CdrInputStream src, </div>
<div class="line">        <span class="keywordtype">boolean</span> deserialize_encapsulation,  </div>
<div class="line">        <span class="keywordtype">boolean</span> deserialize_key, </div>
<div class="line">        Object endpoint_plugin_qos) </div>
<div class="line">    {</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">int</span> position = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>(deserialize_encapsulation) {</div>
<div class="line">            src.deserializeAndSetCdrEncapsulation();</div>
<div class="line"></div>
<div class="line">            position = src.resetAlignment();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (deserialize_key) {</div>
<div class="line"></div>
<div class="line">            HelloWorld typedDst = (HelloWorld) sample;</div>
<div class="line"></div>
<div class="line">            deserialize_sample(</div>
<div class="line">                endpoint_data, sample, src, <span class="keyword">false</span>,</div>
<div class="line">                <span class="keyword">true</span>, endpoint_plugin_qos);</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (deserialize_encapsulation) {</div>
<div class="line">            src.restoreAlignment(position);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> sample;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Callbacks</span></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="keyword">public</span> Object on_participant_attached(Object registration_data,</div>
<div class="line">    TypeSupportParticipantInfo participant_info,</div>
<div class="line">    <span class="keywordtype">boolean</span> top_level_registration,</div>
<div class="line">    Object container_plugin_context,</div>
<div class="line">    TypeCode type_code) {</div>
<div class="line">        <span class="keywordflow">return</span> super.on_participant_attached(</div>
<div class="line">            registration_data, participant_info, top_level_registration,</div>
<div class="line">            container_plugin_context, type_code);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> on_participant_detached(Object participant_data) {</div>
<div class="line">        super.on_participant_detached(participant_data);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> Object on_endpoint_attached(Object participantData,</div>
<div class="line">    TypeSupportEndpointInfo endpoint_info,</div>
<div class="line">    <span class="keywordtype">boolean</span> top_level_registration,</div>
<div class="line">    Object container_plugin_context) {</div>
<div class="line">        <span class="keywordflow">return</span> super.on_endpoint_attached(</div>
<div class="line">            participantData,  endpoint_info,  </div>
<div class="line">            top_level_registration, container_plugin_context);        </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> on_endpoint_detached(Object endpoint_data) {</div>
<div class="line">        super.on_endpoint_detached(endpoint_data);</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Protected Methods</span></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> DataWriter create_datawriter(<span class="keywordtype">long</span> native_writer,</div>
<div class="line">    DataWriterListener listener,</div>
<div class="line">    <span class="keywordtype">int</span> mask) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> HelloWorldDataWriter (native_writer, listener, mask, <span class="keyword">this</span>);            </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> DataReader create_datareader(<span class="keywordtype">long</span> native_reader,</div>
<div class="line">    DataReaderListener listener,</div>
<div class="line">    <span class="keywordtype">int</span> mask) {</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> HelloWorldDataReader(native_reader, listener, mask, <span class="keyword">this</span>);   </div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Constructor</span></div>
<div class="line">    <span class="comment">// -----------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> HelloWorldTypeSupport() {</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* If the user data type supports keys, then the second argument</span></div>
<div class="line"><span class="comment">        to the constructor below should be true.  Otherwise it should</span></div>
<div class="line"><span class="comment">        be false. */</span>        </div>
<div class="line"></div>
<div class="line">        super(TYPE_NAME, <span class="keyword">false</span>,HelloWorldTypeCode.VALUE,HelloWorld.class,TypeSupportType.TST_STRUCT, PLUGIN_VERSION);</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> HelloWorldTypeSupport (<span class="keywordtype">boolean</span> enableKeySupport) {</div>
<div class="line"></div>
<div class="line">        super(TYPE_NAME, enableKeySupport,HelloWorldTypeCode.VALUE,HelloWorld.class,TypeSupportType.TST_STRUCT, PLUGIN_VERSION);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Persistence Service Version 5.2.3</A>
Copyright &copy; Wed Apr 27 2016 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
